<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Concepts Interactive Demo</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 30px;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .section {
        background: white;
        border-radius: 15px;
        margin-bottom: 30px;
        padding: 25px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease;
      }

      .section:hover {
        transform: translateY(-5px);
      }

      .section h2 {
        color: #4a5568;
        border-bottom: 3px solid #667eea;
        padding-bottom: 10px;
        margin-bottom: 20px;
        font-size: 1.8em;
      }

      .section h3 {
        color: #2d3748;
        margin-top: 25px;
        margin-bottom: 15px;
        font-size: 1.3em;
      }

      pre {
        background: #2d3748;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 10px;
        overflow-x: auto;
        margin: 15px 0;
        font-family: "Courier New", monospace;
        font-size: 14px;
        line-height: 1.4;
        border-left: 4px solid #667eea;
      }

      .interactive-section {
        background: #f7fafc;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        padding: 20px;
        margin: 15px 0;
      }

      .demo-button {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        margin: 10px 5px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }

      .demo-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
      }

      .output {
        background: #1a202c;
        color: #68d391;
        padding: 15px;
        border-radius: 8px;
        margin: 10px 0;
        font-family: "Courier New", monospace;
        min-height: 40px;
        border-left: 4px solid #68d391;
      }

      .explanation {
        background: #e6fffa;
        border: 1px solid #81e6d9;
        border-radius: 8px;
        padding: 15px;
        margin: 15px 0;
      }

      .concept-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .concept-card {
        background: #f0f8ff;
        border: 2px solid #667eea;
        border-radius: 10px;
        padding: 15px;
      }

      .highlight {
        background: #ffd700;
        padding: 2px 6px;
        border-radius: 4px;
        font-weight: bold;
      }

      .warning {
        background: #fed7d7;
        border: 1px solid #fc8181;
        border-radius: 8px;
        padding: 15px;
        margin: 15px 0;
        color: #c53030;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üöÄ JavaScript Concepts Interactive Demo</h1>
        <p>
          Learn JavaScript fundamentals with live examples and interactive
          demonstrations
        </p>
      </div>

      <!-- Variables and Scope Section -->
      <div class="section">
        <h2>1. Variables (let, const, var) and Scope</h2>

        <div class="concept-grid">
          <div class="concept-card">
            <h3>var - Function Scoped</h3>
            <pre>
var x = 1;
if (true) {
    var x = 2; // Same variable
    console.log(x); // 2
}
console.log(x); // 2</pre
            >
          </div>

          <div class="concept-card">
            <h3>let - Block Scoped</h3>
            <pre>
let y = 1;
if (true) {
    let y = 2; // Different variable
    console.log(y); // 2
}
console.log(y); // 1</pre
            >
          </div>

          <div class="concept-card">
            <h3>const - Block Scoped + Immutable</h3>
            <pre>
const z = 1;
// z = 2; // Error!
const obj = { name: 'John' };
obj.name = 'Jane'; // OK - object is mutable</pre
            >
          </div>
        </div>

        <div class="interactive-section">
          <h3>üß™ Interactive Scope Demo</h3>
          <button class="demo-button" onclick="demoVariableScopes()">
            Test Variable Scopes
          </button>
          <pre>
          <div id="scopeOutput" class="output"></div>
          </pre>
        </div>

        <div class="explanation">
          <strong>Key Points:</strong>
          <ul>
            <li>
              <span class="highlight">var</span>: Function-scoped, can be
              redeclared, hoisted
            </li>
            <li>
              <span class="highlight">let</span>: Block-scoped, cannot be
              redeclared in same scope
            </li>
            <li>
              <span class="highlight">const</span>: Block-scoped, must be
              initialized, cannot be reassigned
            </li>
          </ul>
        </div>
      </div>

      <!-- Data Types Section -->
      <div class="section">
        <h2>2. Data Types and Type Coercion</h2>

        <h3>Primitive Data Types</h3>
        <pre>
// Number
let age = 25;
let price = 99.99;

// String
let name = "JavaScript";
let message = `Hello, ${name}!`; // Template literal

// Boolean
let isActive = true;
let isComplete = false;

// Undefined
let notDefined;
console.log(notDefined); // undefined

// Null
let emptyValue = null;

// Symbol (ES6)
let sym = Symbol('unique');

// BigInt (ES2020)
let bigNumber = 123456789012345678901234567890n;</pre
        >

        <h3>Type Coercion Examples</h3>
        <pre>
// Implicit coercion
console.log("5" + 3);     // "53" (string concatenation)
console.log("5" - 3);     // 2 (numeric subtraction)
console.log("5" * "2");   // 10 (both converted to numbers)
console.log(true + 1);    // 2 (true becomes 1)
console.log(false + 1);   // 1 (false becomes 0)

// Explicit coercion
console.log(Number("123"));   // 123
console.log(String(123));     // "123"
console.log(Boolean(0));      // false
console.log(Boolean(""));     // false
console.log(Boolean("hello")); // true</pre
        >

        <div class="interactive-section">
          <h3>üß™ Interactive Type Coercion Demo</h3>
          <button class="demo-button" onclick="demoTypeCoercion()">
            Test Type Coercion
          </button>
          <pre>
          <div id="typeOutput" class="output"></div>
          </pre>
        </div>

        <div class="warning">
          <strong>‚ö†Ô∏è Common Pitfalls:</strong>
          <ul>
            <li>
              <code>"5" + 3</code> gives <code>"53"</code> not <code>8</code>
            </li>
            <li>
              <code>0 == false</code> is <code>true</code> but
              <code>0 === false</code> is <code>false</code>
            </li>
            <li>
              <code>null == undefined</code> is <code>true</code> but
              <code>null === undefined</code> is <code>false</code>
            </li>
          </ul>
        </div>
      </div>

      <!-- Functions Section -->
      <div class="section">
        <h2>3. Functions (Declarations, Expressions, Arrow Functions)</h2>

        <div class="concept-grid">
          <div class="concept-card">
            <h3>Function Declaration</h3>
            <pre>
// Hoisted - can be called before declaration
function greet(name) {
    return `Hello, ${name}!`;
}

console.log(greet("Alice")); // Works!</pre
            >
          </div>

          <div class="concept-card">
            <h3>Function Expression</h3>
            <pre>
// Not hoisted - must be declared first
const greet = function(name) {
    return `Hello, ${name}!`;
};

// Named function expression
const greet2 = function greetUser(name) {
    return `Hello, ${name}!`;
};</pre
            >
          </div>

          <div class="concept-card">
            <h3>Arrow Functions (ES6)</h3>
            <pre>
// Basic arrow function
const greet = (name) => {
    return `Hello, ${name}!`;
};

// Concise syntax
const greet2 = name => `Hello, ${name}!`;

// Multiple parameters
const add = (a, b) => a + b;

// No parameters
const random = () => Math.random();</pre
            >
          </div>
        </div>

        <h3>Key Differences</h3>
        <pre>
// 'this' binding differences
const obj = {
    name: 'JavaScript',
    
    // Regular function - 'this' refers to obj
    regularMethod: function() {
        console.log('Regular:', this.name);
    },
    
    // Arrow function - 'this' refers to global/outer scope
    arrowMethod: () => {
        console.log('Arrow:', this.name); // undefined in strict mode
    }
};</pre
        >

        <div class="interactive-section">
          <h3>üß™ Interactive Functions Demo</h3>
          <button class="demo-button" onclick="demoFunctions()">
            Test Function Types
          </button>
          <button class="demo-button" onclick="demoThisBinding()">
            Test 'this' Binding
          </button>
          <pre>
          <div id="functionsOutput" class="output"></div>
          </pre>
        </div>
      </div>

      <!-- Arrays Section -->
      <div class="section">
        <h2>4. Arrays and Array Methods (map, filter, reduce)</h2>

        <h3>Array Creation and Basic Methods</h3>
        <pre>
// Creating arrays
const fruits = ['apple', 'banana', 'orange'];
const numbers = [1, 2, 3, 4, 5];
const mixed = [1, 'hello', true, null];

// Basic methods
fruits.push('grape');        // Add to end
fruits.pop();               // Remove from end
fruits.unshift('mango');    // Add to beginning
fruits.shift();            // Remove from beginning</pre
        >

        <h3>Advanced Array Methods</h3>

        <div class="concept-card">
          <h3>map() - Transform Elements</h3>
          <pre>
const numbers = [1, 2, 3, 4, 5];

// Square each number
const squared = numbers.map(num => num * num);
// [1, 4, 9, 16, 25]

// Convert to objects
const objects = numbers.map(num => ({
    value: num,
    doubled: num * 2
}));</pre
          >
        </div>

        <div class="concept-card">
          <h3>filter() - Select Elements</h3>
          <pre>
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// Get even numbers
const evens = numbers.filter(num => num % 2 === 0);
// [2, 4, 6, 8, 10]

// Get numbers greater than 5
const greaterThanFive = numbers.filter(num => num > 5);
// [6, 7, 8, 9, 10]</pre
          >
        </div>

        <div class="concept-card">
          <h3>reduce() - Accumulate Values</h3>
          <pre>
const numbers = [1, 2, 3, 4, 5];

// Sum all numbers
const sum = numbers.reduce((acc, num) => acc + num, 0);
// 15

// Find maximum
const max = numbers.reduce((acc, num) => 
    num > acc ? num : acc, numbers[0]);

// Create object from array
const counts = ['a', 'b', 'a', 'c', 'b', 'a'].reduce(
    (acc, letter) => {
        acc[letter] = (acc[letter] || 0) + 1;
        return acc;
    }, {}
);
// {a: 3, b: 2, c: 1}</pre
          >
        </div>

        <div class="interactive-section">
          <h3>üß™ Interactive Array Methods Demo</h3>
          <button class="demo-button" onclick="demoMap()">Test map()</button>
          <button class="demo-button" onclick="demoFilter()">
            Test filter()
          </button>
          <button class="demo-button" onclick="demoReduce()">
            Test reduce()
          </button>
          <button class="demo-button" onclick="demoChaining()">
            Test Method Chaining
          </button>
          <pre>
          <div id="arrayOutput" class="output"></div>
          </pre>
        </div>

        <h3>Method Chaining</h3>
        <pre>
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// Chain multiple methods
const result = numbers
    .filter(num => num % 2 === 0)  // Get even numbers: [2, 4, 6, 8, 10]
    .map(num => num * num)         // Square them: [4, 16, 36, 64, 100]
    .reduce((sum, num) => sum + num, 0); // Sum them: 220</pre
        >
      </div>

      <!-- Objects Section -->
      <div class="section">
        <h2>5. Objects and Destructuring</h2>

        <h3>Object Creation and Manipulation</h3>
        <pre>
// Object literal
const person = {
    name: 'John',
    age: 30,
    city: 'New York',
    hobbies: ['reading', 'coding', 'gaming']
};

// Accessing properties
console.log(person.name);        // Dot notation
console.log(person['age']);      // Bracket notation

// Adding/modifying properties
person.email = 'john@example.com';
person.age = 31;

// Methods in objects
const calculator = {
    add: function(a, b) {
        return a + b;
    },
    
    // ES6 method shorthand
    multiply(a, b) {
        return a * b;
    },
    
    // Arrow function (be careful with 'this')
    divide: (a, b) => a / b
};</pre
        >

        <h3>Destructuring Assignment</h3>

        <div class="concept-card">
          <h3>Object Destructuring</h3>
          <pre>
const person = {
    name: 'Alice',
    age: 25,
    city: 'Boston',
    job: 'Developer'
};

// Basic destructuring
const { name, age } = person;
console.log(name, age); // Alice 25

// Renaming variables
const { name: personName, age: personAge } = person;

// Default values
const { country = 'USA' } = person;

// Nested destructuring
const user = {
    id: 1,
    profile: {
        name: 'Bob',
        settings: {
            theme: 'dark'
        }
    }
};

const { profile: { name, settings: { theme } } } = user;</pre
          >
        </div>

        <div class="concept-card">
          <h3>Array Destructuring</h3>
          <pre>
const colors = ['red', 'green', 'blue', 'yellow'];

// Basic destructuring
const [first, second] = colors;
console.log(first, second); // red green

// Skipping elements
const [, , third] = colors;
console.log(third); // blue

// Rest operator
const [primary, ...secondary] = colors;
console.log(primary);   // red
console.log(secondary); // ['green', 'blue', 'yellow']

// Swapping variables
let a = 1, b = 2;
[a, b] = [b, a];
console.log(a, b); // 2 1</pre
          >
        </div>

        <h3>Advanced Object Features</h3>
        <pre>
// Object.keys(), Object.values(), Object.entries()
const obj = { a: 1, b: 2, c: 3 };

console.log(Object.keys(obj));    // ['a', 'b', 'c']
console.log(Object.values(obj));  // [1, 2, 3]
console.log(Object.entries(obj)); // [['a', 1], ['b', 2], ['c', 3]]

// Spread operator with objects (ES2018)
const original = { a: 1, b: 2 };
const copy = { ...original, c: 3 };
console.log(copy); // { a: 1, b: 2, c: 3 }

// Computed property names
const key = 'dynamicKey';
const obj2 = {
    [key]: 'value',
    ['computed_' + key]: 'another value'
};</pre
        >

        <div class="interactive-section">
          <h3>üß™ Interactive Objects & Destructuring Demo</h3>
          <button class="demo-button" onclick="demoObjectCreation()">
            Test Object Creation
          </button>
          <button class="demo-button" onclick="demoObjectDestructuring()">
            Test Object Destructuring
          </button>
          <button class="demo-button" onclick="demoArrayDestructuring()">
            Test Array Destructuring
          </button>
          <button class="demo-button" onclick="demoAdvancedObjects()">
            Test Advanced Features
          </button>
          <pre>
          <div id="objectsOutput" class="output"></div>
          </pre>
        </div>
      </div>
    </div>

    <script>
      // Variables and Scope Demo
      function demoVariableScopes() {
        const output = document.getElementById("scopeOutput");
        let result = "";

        try {
          // Demonstrate var scope
          result += "VAR SCOPE:\n";
          if (true) {
            var varVariable = "I am var";
          }
          result += `var outside if: ${varVariable}\n\n`;

          // Demonstrate let scope
          result += "LET SCOPE:\n";
          let letVariable = "outer let";
          if (true) {
            let letVariable = "inner let";
            result += `let inside if: ${letVariable}\n`;
          }
          result += `let outside if: ${letVariable}\n\n`;

          // Demonstrate const
          result += "CONST:\n";
          const constObj = { name: "John" };
          constObj.name = "Jane"; // This works
          result += `Modified const object: ${JSON.stringify(constObj)}\n`;
        } catch (error) {
          result += `Error: ${error.message}\n`;
        }

        output.textContent = result;
      }

      // Type Coercion Demo
      function demoTypeCoercion() {
        const output = document.getElementById("typeOutput");
        let result = "";

        result += "TYPE COERCION EXAMPLES:\n";
        result += `"5" + 3 = ${typeof ("5" + 3)} "${5 + 3}"\n`;
        result += `"5" - 3 = ${typeof ("5" - 3)} ${5 - 3}\n`;
        result += `"5" * "2" = ${typeof ("5" * "2")} ${"5" * "2"}\n`;
        result += `true + 1 = ${typeof (true + 1)} ${true + 1}\n`;
        result += `false + 1 = ${typeof (false + 1)} ${false + 1}\n\n`;

        result += "COMPARISON:\n";
        result += `5 == "5": ${5 == "5"} (loose equality)\n`;
        result += `5 === "5": ${5 === "5"} (strict equality)\n`;
        result += `0 == false: ${0 == false}\n`;
        result += `0 === false: ${0 === false}\n`;
        result += `null == undefined: ${null == undefined}\n`;
        result += `null === undefined: ${null === undefined}\n`;

        output.textContent = result;
      }

      // Functions Demo
      function demoFunctions() {
        const output = document.getElementById("functionsOutput");
        let result = "";

        // Function declaration (hoisted)
        result += "FUNCTION DECLARATION:\n";
        result += `${functionDeclaration("World")}\n\n`;

        function functionDeclaration(name) {
          return `Hello from function declaration, ${name}!`;
        }

        // Function expression
        const functionExpression = function (name) {
          return `Hello from function expression, ${name}!`;
        };

        // Arrow function
        const arrowFunction = (name) => `Hello from arrow function, ${name}!`;

        result += "FUNCTION EXPRESSION:\n";
        result += `${functionExpression("JavaScript")}\n\n`;

        result += "ARROW FUNCTION:\n";
        result += `${arrowFunction("ES6")}\n`;

        output.textContent = result;
      }

      // This Binding Demo
      function demoThisBinding() {
        const output = document.getElementById("functionsOutput");
        let result = "";

        const obj = {
          name: "TestObject",
          regularMethod: function () {
            return `Regular method - this.name: ${this.name}`;
          },
          arrowMethod: () => {
            return `Arrow method - this.name: ${
              typeof window !== "undefined"
                ? window.name || "undefined"
                : "undefined"
            }`;
          },
        };

        result += "THIS BINDING:\n";
        result += `${obj.regularMethod()}\n`;
        result += `${obj.arrowMethod()}\n`;
        result += '\nNote: Arrow functions inherit "this" from enclosing scope';

        output.textContent = result;
      }

      // Array Methods Demos
      function demoMap() {
        const output = document.getElementById("arrayOutput");
        const numbers = [1, 2, 3, 4, 5];

        const squared = numbers.map((num) => num * num);
        const objects = numbers.map((num) => ({
          value: num,
          doubled: num * 2,
        }));

        let result = "MAP DEMO:\n";
        result += `Original: [${numbers.join(", ")}]\n`;
        result += `Squared: [${squared.join(", ")}]\n`;
        result += `Objects: ${JSON.stringify(objects, null, 2)}\n`;

        output.textContent = result;
      }

      function demoFilter() {
        const output = document.getElementById("arrayOutput");
        const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

        const evens = numbers.filter((num) => num % 2 === 0);
        const greaterThanFive = numbers.filter((num) => num > 5);

        let result = "FILTER DEMO:\n";
        result += `Original: [${numbers.join(", ")}]\n`;
        result += `Even numbers: [${evens.join(", ")}]\n`;
        result += `Greater than 5: [${greaterThanFive.join(", ")}]\n`;

        output.textContent = result;
      }

      function demoReduce() {
        const output = document.getElementById("arrayOutput");
        const numbers = [1, 2, 3, 4, 5];

        const sum = numbers.reduce((acc, num) => acc + num, 0);
        const product = numbers.reduce((acc, num) => acc * num, 1);
        const max = numbers.reduce(
          (acc, num) => (num > acc ? num : acc),
          numbers[0]
        );

        let result = "REDUCE DEMO:\n";
        result += `Original: [${numbers.join(", ")}]\n`;
        result += `Sum: ${sum}\n`;
        result += `Product: ${product}\n`;
        result += `Maximum: ${max}\n`;

        output.textContent = result;
      }

      function demoChaining() {
        const output = document.getElementById("arrayOutput");
        const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

        const result = numbers
          .filter((num) => num % 2 === 0)
          .map((num) => num * num)
          .reduce((sum, num) => sum + num, 0);

        let resultText = "METHOD CHAINING DEMO:\n";
        resultText += `Original: [${numbers.join(", ")}]\n`;
        resultText += "Steps:\n";
        resultText += `1. Filter evens: [${numbers
          .filter((num) => num % 2 === 0)
          .join(", ")}]\n`;
        resultText += `2. Square them: [${numbers
          .filter((num) => num % 2 === 0)
          .map((num) => num * num)
          .join(", ")}]\n`;
        resultText += `3. Sum them: ${result}\n`;

        output.textContent = resultText;
      }

      // Objects and Destructuring Demos
      function demoObjectCreation() {
        const output = document.getElementById("objectsOutput");

        const person = {
          name: "Alice",
          age: 28,
          greet() {
            return `Hello, I'm ${this.name}`;
          },
        };

        person.email = "alice@example.com";

        let result = "OBJECT CREATION DEMO:\n";
        result += `Person: ${JSON.stringify(person, null, 2)}\n`;
        result += `Greeting: ${person.greet()}\n`;

        output.textContent = result;
      }

      function demoObjectDestructuring() {
        const output = document.getElementById("objectsOutput");

        const person = {
          name: "Bob",
          age: 32,
          city: "Seattle",
          job: "Engineer",
        };

        const { name, age, country = "USA" } = person;
        const { name: personName, job: occupation } = person;

        let result = "OBJECT DESTRUCTURING DEMO:\n";
        result += `Original: ${JSON.stringify(person)}\n`;
        result += `Destructured - name: ${name}, age: ${age}\n`;
        result += `With default - country: ${country}\n`;
        result += `Renamed - personName: ${personName}, occupation: ${occupation}\n`;

        output.textContent = result;
      }

      function demoArrayDestructuring() {
        const output = document.getElementById("objectsOutput");

        const colors = ["red", "green", "blue", "yellow", "purple"];

        const [first, second] = colors;
        const [, , third] = colors;
        const [primary, ...rest] = colors;

        let result = "ARRAY DESTRUCTURING DEMO:\n";
        result += `Original: [${colors.join(", ")}]\n`;
        result += `First two: ${first}, ${second}\n`;
        result += `Third (skipped first two): ${third}\n`;
        result += `Primary: ${primary}\n`;
        result += `Rest: [${rest.join(", ")}]\n`;

        // Swapping example
        let a = 10,
          b = 20;
        [a, b] = [b, a];
        result += `\nAfter swapping: a = ${a}, b = ${b}\n`;

        output.textContent = result;
      }

      function demoAdvancedObjects() {
        const output = document.getElementById("objectsOutput");

        const obj = { a: 1, b: 2, c: 3 };

        const keys = Object.keys(obj);
        const values = Object.values(obj);
        const entries = Object.entries(obj);

        // Spread operator
        const extended = { ...obj, d: 4, e: 5 };

        let result = "ADVANCED OBJECTS DEMO:\n";
        result += `Original: ${JSON.stringify(obj)}\n`;
        result += `Keys: [${keys.join(", ")}]\n`;
        result += `Values: [${values.join(", ")}]\n`;
        result += `Entries: ${JSON.stringify(entries)}\n`;
        result += `Extended with spread: ${JSON.stringify(extended)}\n`;

        // Computed properties
        const key = "dynamic";
        const computed = {
          [key]: "value",
          [`${key}_property`]: "computed value",
        };

        result += `Computed properties: ${JSON.stringify(computed)}\n`;

        output.textContent = result;
      }

      // Initialize with welcome message
      window.onload = function () {
        const outputs = document.querySelectorAll(".output");
        outputs.forEach((output) => {
          output.textContent =
            "Click the buttons above to see interactive demonstrations!";
        });
      };
    </script>
  </body>
</html>
