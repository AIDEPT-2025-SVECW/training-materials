<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Express.js Routing & Route Parameters</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
            padding: 25px;
            background: #f7fafc;
            border-radius: 12px;
            border-left: 5px solid #667eea;
        }
        
        .section h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.8em;
        }
        
        .section h3 {
            color: #4a5568;
            margin: 20px 0 10px 0;
            font-size: 1.3em;
        }
        
        .analogy {
            background: #fff5e6;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #f59e0b;
            margin: 15px 0;
        }
        
        .analogy strong {
            color: #d97706;
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.6;
            margin: 15px 0;
            border: 2px solid #334155;
        }
        
        .keyword {
            color: #f472b6;
        }
        
        .string {
            color: #86efac;
        }
        
        .function {
            color: #7dd3fc;
        }
        
        .comment {
            color: #94a3b8;
            font-style: italic;
        }
        
        .interactive-demo {
            background: white;
            padding: 25px;
            border-radius: 12px;
            border: 2px solid #667eea;
            margin: 20px 0;
        }
        
        .demo-title {
            color: #667eea;
            font-size: 1.5em;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .route-simulator {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }
        
        .route-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .route-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .route-input button {
            padding: 12px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .route-input button:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .output {
            background: #1e293b;
            color: #86efac;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
            min-height: 60px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        
        .info-box {
            background: #e0e7ff;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            margin: 15px 0;
        }
        
        .info-box strong {
            color: #4338ca;
        }
        
        .method-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.9em;
            margin-right: 10px;
        }
        
        .get { background: #10b981; color: white; }
        .post { background: #3b82f6; color: white; }
        .put { background: #f59e0b; color: white; }
        .delete { background: #ef4444; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Express.js Routing & Route Parameters</h1>
            <p>Learn how to handle different routes and extract data from URLs</p>
        </div>
        
        <div class="content">
            <!-- Basic Routing Section -->
            <div class="section">
                <h2>üìç What is Routing?</h2>
                <p style="margin-bottom: 15px; line-height: 1.8;">
                    Routing determines how an application responds to client requests at different endpoints (URLs). 
                    Think of it as directing traffic based on where visitors want to go on your website.
                </p>
                
                <div class="analogy">
                    <strong>üè¢ Real-World Analogy:</strong>
                    Imagine a large office building with a receptionist. When someone arrives, they tell the receptionist where they want to go:
                    <ul style="margin-top: 10px; margin-left: 20px; line-height: 1.8;">
                        <li><strong>"/about"</strong> ‚Üí Receptionist directs them to the About Us office</li>
                        <li><strong>"/products"</strong> ‚Üí Receptionist sends them to the Products showroom</li>
                        <li><strong>"/contact"</strong> ‚Üí Receptionist guides them to the Contact department</li>
                    </ul>
                    <p style="margin-top: 10px;">The receptionist is like Express.js, routing visitors to the right "handler" based on their request!</p>
                </div>
                
                <h3>Basic Route Structure:</h3>
                <pre><span class="keyword">const</span> express = <span class="keyword">require</span>(<span class="string">'express'</span>);
<span class="keyword">const</span> app = <span class="function">express</span>();

<span class="comment">// Basic GET route - responds to requests at the root URL</span>
app.<span class="function">get</span>(<span class="string">'/'</span>, (req, res) => {
    res.<span class="function">send</span>(<span class="string">'Welcome to the Home Page!'</span>);
});

<span class="comment">// Route for /about page</span>
app.<span class="function">get</span>(<span class="string">'/about'</span>, (req, res) => {
    res.<span class="function">send</span>(<span class="string">'This is the About page'</span>);
});

<span class="comment">// Route for /contact page</span>
app.<span class="function">get</span>(<span class="string">'/contact'</span>, (req, res) => {
    res.<span class="function">send</span>(<span class="string">'Contact us at: info@example.com'</span>);
});</pre>
                
                <div class="info-box">
                    <strong>üí° Key Points:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                        <li><strong>app.get()</strong> - Handles GET requests (retrieving data)</li>
                        <li><strong>app.post()</strong> - Handles POST requests (sending data)</li>
                        <li><strong>app.put()</strong> - Handles PUT requests (updating data)</li>
                        <li><strong>app.delete()</strong> - Handles DELETE requests (removing data)</li>
                    </ul>
                </div>
            </div>
            
            <!-- Route Parameters Section -->
            <div class="section">
                <h2>üéØ Route Parameters</h2>
                <p style="margin-bottom: 15px; line-height: 1.8;">
                    Route parameters are named URL segments used to capture values at specific positions in the URL. 
                    They allow you to create dynamic routes that can handle variable data.
                </p>
                
                <div class="analogy">
                    <strong>üìö Library Analogy:</strong>
                    Imagine you're in a library and you want to find a specific book. You might say:
                    <ul style="margin-top: 10px; margin-left: 20px; line-height: 1.8;">
                        <li><strong>"/books/123"</strong> ‚Üí "Give me book with ID 123"</li>
                        <li><strong>"/books/456"</strong> ‚Üí "Give me book with ID 456"</li>
                        <li><strong>"/users/john/posts"</strong> ‚Üí "Show all posts by user named john"</li>
                    </ul>
                    <p style="margin-top: 10px;">Instead of creating a separate route for every book or user, route parameters let you use ONE route that works for ALL cases!</p>
                </div>
                
                <h3>Single Route Parameter:</h3>
                <pre><span class="comment">// Colon (:) indicates a route parameter</span>
app.<span class="function">get</span>(<span class="string">'/users/:userId'</span>, (req, res) => {
    <span class="keyword">const</span> userId = req.params.userId;
    res.<span class="function">send</span>(<span class="string">`User ID is: ${userId}`</span>);
});

<span class="comment">// When someone visits: /users/42</span>
<span class="comment">// Response: "User ID is: 42"</span>

<span class="comment">// When someone visits: /users/john</span>
<span class="comment">// Response: "User ID is: john"</span></pre>
                
                <h3>Multiple Route Parameters:</h3>
                <pre><span class="comment">// Multiple parameters in one route</span>
app.<span class="function">get</span>(<span class="string">'/users/:userId/posts/:postId'</span>, (req, res) => {
    <span class="keyword">const</span> { userId, postId } = req.params;
    res.<span class="function">send</span>(<span class="string">`User ${userId} - Post ${postId}`</span>);
});

<span class="comment">// Example: /users/john/posts/5</span>
<span class="comment">// Response: "User john - Post 5"</span></pre>
                
                <h3>Route Parameters with Query Strings:</h3>
                <pre><span class="comment">// Route parameter + query string</span>
app.<span class="function">get</span>(<span class="string">'/products/:category'</span>, (req, res) => {
    <span class="keyword">const</span> category = req.params.category;
    <span class="keyword">const</span> { sort, limit } = req.query;
    
    res.<span class="function">json</span>({
        category: category,
        sortBy: sort || <span class="string">'default'</span>,
        limit: limit || <span class="string">'10'</span>
    });
});

<span class="comment">// Example: /products/electronics?sort=price&limit=20</span>
<span class="comment">// Response: { category: "electronics", sortBy: "price", limit: "20" }</span></pre>
                
                <div class="info-box">
                    <strong>üîë Parameter vs Query String:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                        <li><strong>Route Parameters</strong> - Essential part of the URL path: <code>/users/:id</code></li>
                        <li><strong>Query Strings</strong> - Optional filters/options: <code>?sort=name&page=2</code></li>
                        <li>Parameters use <code>req.params</code>, Query strings use <code>req.query</code></li>
                    </ul>
                </div>
            </div>
            
            <!-- Interactive Demo -->
            <div class="interactive-demo">
                <div class="demo-title">üéÆ Try It Yourself!</div>
                <p style="margin-bottom: 20px; line-height: 1.8;">
                    Simulate different route requests and see how Express.js handles them. 
                    Try entering URLs with parameters!
                </p>
                
                <div class="route-simulator">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #2d3748;">
                            Enter a URL path:
                        </label>
                        <div class="route-input">
                            <input type="text" id="routeInput" placeholder="/users/123/posts/456" 
                                   value="/users/123">
                            <button onclick="simulateRoute()">Send Request</button>
                        </div>
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #2d3748;">
                            Response:
                        </label>
                        <div class="output" id="output">Enter a URL path and click "Send Request" to see the response...</div>
                    </div>
                </div>
                
                <div style="margin-top: 25px; padding: 20px; background: #f0f9ff; border-radius: 8px; border-left: 4px solid #3b82f6;">
                    <strong style="color: #1e40af; display: block; margin-bottom: 10px;">üí° Try these examples:</strong>
                    <ul style="margin-left: 20px; line-height: 2;">
                        <li><code>/</code> - Home page</li>
                        <li><code>/about</code> - About page</li>
                        <li><code>/users/john</code> - User profile</li>
                        <li><code>/users/john/posts/42</code> - Specific post by user</li>
                        <li><code>/products/electronics?sort=price&limit=20</code> - With query strings</li>
                    </ul>
                </div>
            </div>
            
            <!-- Complete Example -->
            <div class="section">
                <h2>üì¶ Complete Express.js Server Example</h2>
                <pre><span class="keyword">const</span> express = <span class="keyword">require</span>(<span class="string">'express'</span>);
<span class="keyword">const</span> app = <span class="function">express</span>();
<span class="keyword">const</span> PORT = 3000;

<span class="comment">// Basic routes</span>
app.<span class="function">get</span>(<span class="string">'/'</span>, (req, res) => {
    res.<span class="function">send</span>(<span class="string">'Welcome to Express.js Routing!'</span>);
});

<span class="comment">// Single parameter</span>
app.<span class="function">get</span>(<span class="string">'/users/:userId'</span>, (req, res) => {
    res.<span class="function">json</span>({
        message: <span class="string">'User found'</span>,
        userId: req.params.userId
    });
});

<span class="comment">// Multiple parameters</span>
app.<span class="function">get</span>(<span class="string">'/users/:userId/posts/:postId'</span>, (req, res) => {
    res.<span class="function">json</span>({
        userId: req.params.userId,
        postId: req.params.postId,
        message: <span class="string">'Fetching specific post'</span>
    });
});

<span class="comment">// With query parameters</span>
app.<span class="function">get</span>(<span class="string">'/search'</span>, (req, res) => {
    <span class="keyword">const</span> { q, category, page } = req.query;
    res.<span class="function">json</span>({
        searchQuery: q,
        category: category || <span class="string">'all'</span>,
        page: page || <span class="string">'1'</span>
    });
});

<span class="comment">// Start the server</span>
app.<span class="function">listen</span>(PORT, () => {
    console.<span class="function">log</span>(<span class="string">`Server running on http://localhost:${PORT}`</span>);
});</pre>
            </div>
        </div>
    </div>
    
    <script>
        function simulateRoute() {
            const input = document.getElementById('routeInput').value.trim();
            const output = document.getElementById('output');
            
            if (!input) {
                output.textContent = 'Error: Please enter a URL path';
                output.style.color = '#ef4444';
                return;
            }
            
            output.style.color = '#86efac';
            
            // Parse URL and query string
            const [path, queryString] = input.split('?');
            const pathParts = path.split('/').filter(p => p);
            
            // Parse query parameters
            const queryParams = {};
            if (queryString) {
                queryString.split('&').forEach(param => {
                    const [key, value] = param.split('=');
                    queryParams[key] = value;
                });
            }
            
            let response = '';
            
            // Route matching simulation
            if (path === '/' || pathParts.length === 0) {
                response = '‚úÖ Route: GET /\nResponse: "Welcome to the Home Page!"';
            }
            else if (pathParts[0] === 'about') {
                response = '‚úÖ Route: GET /about\nResponse: "This is the About page"';
            }
            else if (pathParts[0] === 'contact') {
                response = '‚úÖ Route: GET /contact\nResponse: "Contact us at: info@example.com"';
            }
            else if (pathParts[0] === 'users' && pathParts.length === 2) {
                response = `‚úÖ Route: GET /users/:userId\n\nRoute Parameters:\n  userId: "${pathParts[1]}"\n\nResponse: "User ID is: ${pathParts[1]}"`;
            }
            else if (pathParts[0] === 'users' && pathParts.length === 4 && pathParts[2] === 'posts') {
                response = `‚úÖ Route: GET /users/:userId/posts/:postId\n\nRoute Parameters:\n  userId: "${pathParts[1]}"\n  postId: "${pathParts[3]}"\n\nResponse: "User ${pathParts[1]} - Post ${pathParts[3]}"`;
            }
            else if (pathParts[0] === 'products' && pathParts.length === 2) {
                response = `‚úÖ Route: GET /products/:category\n\nRoute Parameters:\n  category: "${pathParts[1]}"`;
                if (Object.keys(queryParams).length > 0) {
                    response += '\n\nQuery Parameters:';
                    for (const [key, value] of Object.entries(queryParams)) {
                        response += `\n  ${key}: "${value}"`;
                    }
                }
                response += `\n\nResponse: ${JSON.stringify({
                    category: pathParts[1],
                    ...queryParams
                }, null, 2)}`;
            }
            else {
                response = `‚ùå Route not found: ${path}\n\nThis route doesn't match any defined patterns.\nTry one of the examples below!`;
                output.style.color = '#fbbf24';
            }
            
            output.textContent = response;
        }
        
        // Allow Enter key to submit
        document.getElementById('routeInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                simulateRoute();
            }
        });
    </script>
</body>
</html>