<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What is Express.js?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .section h3 {
            color: #34495e;
            margin: 20px 0 10px 0;
            font-size: 1.3em;
        }

        .section p {
            line-height: 1.8;
            color: #555;
            margin-bottom: 15px;
        }

        .analogy {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .analogy h4 {
            color: #856404;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .analogy h4:before {
            content: "üí°";
            margin-right: 10px;
            font-size: 1.5em;
        }

        .analogy p {
            color: #856404;
        }

        .interactive-demo {
            background: white;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #667eea;
            margin: 20px 0;
        }

        .demo-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        button:active {
            transform: translateY(0);
        }

        .output {
            background: #2c3e50;
            color: #00ff00;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            min-height: 100px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        pre {
            background: #2c3e50;
            color: #e0e0e0;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            border: 2px solid #667eea;
            line-height: 1.6;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #ddd;
        }

        .comparison-item h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .benefit-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #667eea;
            transition: all 0.3s;
        }

        .benefit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .benefit-card h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Express.js Explained</h1>
            <p>The Fast, Unopinionated Web Framework for Node.js</p>
        </div>

        <div class="content">
            <div class="section">
                <h2>What is Express.js?</h2>
                <p>
                    Express.js (or simply Express) is a <strong>minimal and flexible Node.js web application framework</strong> that provides a robust set of features for building web and mobile applications. It's the most popular Node.js framework and is the backend component of the MEAN (MongoDB, Express, Angular, Node) and MERN (MongoDB, Express, React, Node) stacks.
                </p>

                <div class="analogy">
                    <h4>Restaurant Analogy</h4>
                    <p>
                        Think of Node.js as a kitchen with all the raw ingredients and basic cooking equipment. Express.js is like a well-organized restaurant management system that helps you:
                        <br><br>
                        ‚Ä¢ Take orders (handle HTTP requests)<br>
                        ‚Ä¢ Route orders to the right chef (routing)<br>
                        ‚Ä¢ Serve dishes efficiently (send responses)<br>
                        ‚Ä¢ Handle multiple tables at once (middleware)<br>
                        ‚Ä¢ Manage the dining experience smoothly (application logic)
                    </p>
                </div>
            </div>

            <div class="section">
                <h2>Why Use Express.js?</h2>
                
                <div class="benefits">
                    <div class="benefit-card">
                        <h4>‚ö° Simplicity</h4>
                        <p>Express simplifies the process of building web servers. What takes many lines of code in raw Node.js can be done in just a few with Express.</p>
                    </div>
                    
                    <div class="benefit-card">
                        <h4>üîå Middleware Support</h4>
                        <p>Built-in middleware system allows you to add functionality (logging, authentication, parsing) in a modular, reusable way.</p>
                    </div>
                    
                    <div class="benefit-card">
                        <h4>üõ£Ô∏è Robust Routing</h4>
                        <p>Easy-to-use routing system for handling different URLs and HTTP methods (GET, POST, PUT, DELETE).</p>
                    </div>
                    
                    <div class="benefit-card">
                        <h4>üì¶ Rich Ecosystem</h4>
                        <p>Thousands of compatible middleware packages available via npm to extend functionality without reinventing the wheel.</p>
                    </div>
                    
                    <div class="benefit-card">
                        <h4>‚öôÔ∏è Unopinionated</h4>
                        <p>Doesn't force a specific structure - you're free to organize your application however you want.</p>
                    </div>
                    
                    <div class="benefit-card">
                        <h4>üöÄ Performance</h4>
                        <p>Lightweight and fast, built on top of Node.js's non-blocking I/O for handling thousands of concurrent connections.</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Node.js vs Express.js: The Difference</h2>
                
                <div class="comparison">
                    <div class="comparison-item">
                        <h4>Pure Node.js Server</h4>
<pre>
const http = require('http');

const server = http.createServer(
  (req, res) => {
    if (req.url === '/') {
      res.writeHead(200, {
        'Content-Type': 'text/html'
      });
      res.end('&lt;h1&gt;Home Page&lt;/h1&gt;');
    } else if (req.url === '/about') {
      res.writeHead(200, {
        'Content-Type': 'text/html'
      });
      res.end('&lt;h1&gt;About Page&lt;/h1&gt;');
    } else {
      res.writeHead(404);
      res.end('Not Found');
    }
  }
);

server.listen(3000);
</pre>
                    </div>
                    
                    <div class="comparison-item">
                        <h4>Express.js Server</h4>
<pre>
const express = require('express');
const app = express();

app.get('/', (req, res) => {
  res.send('&lt;h1&gt;Home Page&lt;/h1&gt;');
});

app.get('/about', (req, res) => {
  res.send('&lt;h1&gt;About Page&lt;/h1&gt;');
});

app.listen(3000);
</pre>
                    </div>
                </div>

                <div class="analogy">
                    <h4>Manual vs Automatic Transmission</h4>
                    <p>
                        Using raw Node.js is like driving a manual transmission car - you have complete control but must handle every detail yourself (shifting gears, managing clutch, etc.). Express.js is like an automatic transmission - it handles the complex mechanics for you while you focus on driving (building features).
                    </p>
                </div>
            </div>

            <div class="section">
                <h2>Interactive Demo: Express.js Concepts</h2>
                <p>Click the buttons below to simulate different Express.js operations:</p>
                
                <div class="interactive-demo">
                    <div class="demo-buttons">
                        <button onclick="simulateRequest('GET', '/')">GET / (Home)</button>
                        <button onclick="simulateRequest('GET', '/api/users')">GET /api/users</button>
                        <button onclick="simulateRequest('POST', '/api/users')">POST /api/users</button>
                        <button onclick="demonstrateMiddleware()">Show Middleware Chain</button>
                        <button onclick="demonstrateErrorHandling()">Simulate Error</button>
                        <button onclick="clearOutput()">Clear Output</button>
                    </div>
                    <div class="output" id="output">Click a button to see Express.js in action...</div>
                </div>
            </div>

            <div class="section">
                <h2>Key Express.js Concepts</h2>

                <h3>1. Routing</h3>
                <p>Routing determines how an application responds to client requests at specific endpoints (URIs).</p>
<pre>
// Basic routes
app.get('/users', (req, res) => {
  res.json({ users: ['Alice', 'Bob'] });
});

app.post('/users', (req, res) => {
  res.json({ message: 'User created' });
});

// Route parameters
app.get('/users/:id', (req, res) => {
  res.json({ userId: req.params.id });
});
</pre>

                <h3>2. Middleware</h3>
                <p>Middleware functions have access to the request object, response object, and the next middleware function. They can execute code, modify req/res, or end the request-response cycle.</p>
<pre>
// Custom middleware
app.use((req, res, next) => {
  console.log(`${req.method} ${req.url}`);
  next(); // Pass to next middleware
});

// Built-in middleware
app.use(express.json()); // Parse JSON
app.use(express.static('public')); // Serve static files
</pre>

                <div class="analogy">
                    <h4>Airport Security Analogy</h4>
                    <p>
                        Middleware is like airport security checkpoints. Each checkpoint (middleware) performs a specific task:
                        <br><br>
                        1. Check ID (authentication middleware)<br>
                        2. Scan bags (validation middleware)<br>
                        3. Body scan (security middleware)<br>
                        4. Finally board plane (route handler)<br>
                        <br>
                        Each checkpoint can either let you through (next()) or stop you (send response).
                    </p>
                </div>

                <h3>3. Request & Response Objects</h3>
<pre>
app.get('/demo', (req, res) => {
  // Request object properties
  console.log(req.params);  // URL parameters
  console.log(req.query);   // Query strings
  console.log(req.body);    // Request body
  console.log(req.headers); // HTTP headers
  
  // Response methods
  res.send('Text response');
  res.json({ key: 'value' });
  res.status(404).send('Not Found');
  res.redirect('/other-page');
});
</pre>

                <h3>4. Error Handling</h3>
<pre>
// Error handling middleware
app.use((err, req, res, next) => {
  console.error(err.stack);
  res.status(500).json({
    error: 'Something went wrong!'
  });
});
</pre>
            </div>

            <div class="section">
                <h2>Complete Express.js Example</h2>
<pre>
const express = require('express');
const app = express();
const PORT = 3000;

// Middleware
app.use(express.json());
app.use((req, res, next) => {
  console.log(`[${new Date().toISOString()}] ${req.method} ${req.url}`);
  next();
});

// Routes
app.get('/', (req, res) => {
  res.send('Welcome to Express!');
});

app.get('/api/users', (req, res) => {
  const users = [
    { id: 1, name: 'Alice' },
    { id: 2, name: 'Bob' }
  ];
  res.json(users);
});

app.post('/api/users', (req, res) => {
  const newUser = req.body;
  res.status(201).json({
    message: 'User created',
    user: newUser
  });
});

// 404 handler
app.use((req, res) => {
  res.status(404).send('Page not found');
});

// Error handler
app.use((err, req, res, next) => {
  console.error(err.stack);
  res.status(500).json({ error: 'Internal server error' });
});

// Start server
app.listen(PORT, () => {
  console.log(`Server running on http://localhost:${PORT}`);
});
</pre>
            </div>
        </div>
    </div>

    <script>
        let requestCount = 0;
        const output = document.getElementById('output');

        function addToOutput(text) {
            output.textContent += text + '\n';
            output.scrollTop = output.scrollHeight;
        }

        function clearOutput() {
            output.textContent = 'Output cleared. Click a button to see Express.js in action...\n';
            requestCount = 0;
        }

        function simulateRequest(method, path) {
            requestCount++;
            addToOutput(`\n[Request #${requestCount}] ${method} ${path}`);
            addToOutput('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
            
            // Simulate middleware
            addToOutput('‚Üí Middleware: Logging request...');
            addToOutput('‚Üí Middleware: Parsing JSON...');
            
            // Simulate route handling
            if (path === '/' && method === 'GET') {
                addToOutput('‚Üí Route Handler: GET /');
                addToOutput('‚úì Response: 200 OK');
                addToOutput('  Body: "<h1>Welcome to Express!</h1>"');
            } else if (path === '/api/users' && method === 'GET') {
                addToOutput('‚Üí Route Handler: GET /api/users');
                addToOutput('‚úì Response: 200 OK');
                addToOutput('  Body: [{"id":1,"name":"Alice"},{"id":2,"name":"Bob"}]');
            } else if (path === '/api/users' && method === 'POST') {
                addToOutput('‚Üí Route Handler: POST /api/users');
                addToOutput('‚Üí Processing: Creating new user...');
                addToOutput('‚úì Response: 201 Created');
                addToOutput('  Body: {"message":"User created","id":3}');
            }
            
            addToOutput('‚Üí Request completed!\n');
        }

        function demonstrateMiddleware() {
            requestCount++;
            addToOutput(`\n[Middleware Demo #${requestCount}]`);
            addToOutput('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
            addToOutput('Request: GET /protected/data');
            addToOutput('\n‚Üí Middleware 1: Logger');
            addToOutput('  Action: Log "GET /protected/data"');
            addToOutput('  Status: ‚úì next() called\n');
            
            addToOutput('‚Üí Middleware 2: Authentication');
            addToOutput('  Action: Check auth token');
            addToOutput('  Status: ‚úì Token valid, next() called\n');
            
            addToOutput('‚Üí Middleware 3: Authorization');
            addToOutput('  Action: Check user permissions');
            addToOutput('  Status: ‚úì User authorized, next() called\n');
            
            addToOutput('‚Üí Route Handler: GET /protected/data');
            addToOutput('  Action: Fetch data from database');
            addToOutput('  Status: ‚úì Response sent\n');
            
            addToOutput('‚úì Complete middleware chain executed successfully!\n');
        }

        function demonstrateErrorHandling() {
            requestCount++;
            addToOutput(`\n[Error Demo #${requestCount}]`);
            addToOutput('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
            addToOutput('Request: GET /api/broken');
            addToOutput('\n‚Üí Middleware: Processing...');
            addToOutput('‚Üí Route Handler: Attempting operation...');
            addToOutput('‚úó Error occurred: Database connection failed');
            addToOutput('\n‚Üí Error Middleware: Catching error...');
            addToOutput('‚Üí Error Middleware: Logging error to file');
            addToOutput('‚úì Response: 500 Internal Server Error');
            addToOutput('  Body: {"error":"Something went wrong!"}');
            addToOutput('\n‚Üí Error handled gracefully!\n');
        }

        // Initial message
        clearOutput();
    </script>
</body>
</html>