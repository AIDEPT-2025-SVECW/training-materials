<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.js Path Module Interactive Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .concept-section {
            margin-bottom: 40px;
            border: 2px solid #e1e8ed;
            border-radius: 15px;
            padding: 25px;
            background: linear-gradient(145deg, #f8f9fa, #ffffff);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }
        
        .concept-section:hover {
            transform: translateY(-5px);
        }
        
        .concept-title {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 15px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        .analogy {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #e67e22;
        }
        
        .analogy h4 {
            color: #d35400;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .demo-area {
            background: #f8f9fa;
            border: 2px dashed #3498db;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            background: linear-gradient(45deg, #2980b9, #1f6391);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .result {
            background: #ffffff;
            border: 2px solid #27ae60;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            word-break: break-all;
        }
        
        .result-label {
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 5px;
        }
        
        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 5px solid #3498db;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .method-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .method-card {
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .method-name {
            color: #e74c3c;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        
        .description {
            margin-bottom: 15px;
            color: #555;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üõ§Ô∏è Node.js Path Module Interactive Demo</h1>
            <p>Master file path manipulation with hands-on examples and real-world analogies</p>
        </div>
        
        <div class="content">
            <!-- Introduction Section -->
            <div class="concept-section">
                <h2 class="concept-title">What is the Path Module?</h2>
                <p>The Node.js <code>path</code> module provides utilities for working with file and directory paths. It's like having a GPS navigator for your file system!</p>
                
                <div class="analogy">
                    <h4>üó∫Ô∏è Real-World Analogy</h4>
                    <p>Think of file paths like addresses. Just as you need tools to work with addresses (combining street names, extracting zip codes, converting between formats), the Path module gives you tools to work with file paths across different operating systems.</p>
                </div>
                
                <div class="highlight">
                    <strong>Key Point:</strong> The Path module handles cross-platform differences automatically. Windows uses backslashes (\), while Unix/Linux/Mac use forward slashes (/).
                </div>
                
                <pre>// In Node.js, you'd import it like this:
const path = require('path');

// Or with ES6 modules:
import path from 'path';</pre>
            </div>

            <!-- Path Methods Overview -->
            <div class="concept-section">
                <h2 class="concept-title">Core Path Methods</h2>
                <div class="method-grid">
                    <div class="method-card">
                        <div class="method-name">path.join()</div>
                        <div class="description">Joins path segments together, like connecting LEGO blocks to build a complete path.</div>
                    </div>
                    <div class="method-card">
                        <div class="method-name">path.resolve()</div>
                        <div class="description">Creates an absolute path, like getting the full GPS coordinates from a relative location.</div>
                    </div>
                    <div class="method-card">
                        <div class="method-name">path.dirname()</div>
                        <div class="description">Extracts the directory name, like getting the folder that contains a file.</div>
                    </div>
                    <div class="method-card">
                        <div class="method-name">path.basename()</div>
                        <div class="description">Gets the filename, like extracting just the house number from a full address.</div>
                    </div>
                    <div class="method-card">
                        <div class="method-name">path.extname()</div>
                        <div class="description">Gets the file extension, like identifying the file type (.jpg, .txt, .js).</div>
                    </div>
                    <div class="method-card">
                        <div class="method-name">path.parse()</div>
                        <div class="description">Breaks down a path into components, like dissecting an address into parts.</div>
                    </div>
                </div>
            </div>

            <!-- Interactive Demo: path.join() -->
            <div class="concept-section">
                <h2 class="concept-title">1. path.join() - Building Paths Like LEGO</h2>
                
                <div class="analogy">
                    <h4>üß± Building Blocks Analogy</h4>
                    <p>Imagine you're building with LEGO blocks. Each path segment is like a block, and <code>path.join()</code> connects them properly, ensuring they fit together perfectly regardless of the surface they're built on (Windows, Mac, or Linux).</p>
                </div>
                
                <div class="demo-area">
                    <div class="input-group">
                        <label>Enter path segments (one per line):</label>
                        <textarea id="joinInput" rows="4" style="width: 100%; padding: 10px; border: 2px solid #bdc3c7; border-radius: 8px;">/users
john
documents
photos
vacation.jpg</textarea>
                    </div>
                    <button class="btn" onclick="demonstrateJoin()">üîó Join Paths</button>
                    <div id="joinResult"></div>
                </div>
                
                <pre>// path.join() automatically handles separators
const path = require('path');

// Instead of manually concatenating:
// '/users' + '/' + 'john' + '/' + 'documents' (error-prone!)

// Use path.join():
const fullPath = path.join('/users', 'john', 'documents', 'photos', 'vacation.jpg');
// Result: '/users/john/documents/photos/vacation.jpg' (Unix/Mac)
// Result: '\\users\\john\\documents\\photos\\vacation.jpg' (Windows)</pre>
            </div>

            <!-- Interactive Demo: path.resolve() -->
            <div class="concept-section">
                <h2 class="concept-title">2. path.resolve() - Getting the Full Address</h2>
                
                <div class="analogy">
                    <h4>üè† GPS Navigation Analogy</h4>
                    <p>If <code>path.join()</code> is like connecting building blocks, <code>path.resolve()</code> is like a GPS that gives you the complete address from wherever you currently are. It always returns an absolute path from the root of the file system.</p>
                </div>
                
                <div class="demo-area">
                    <div class="input-group">
                        <label>Current working directory (simulated):</label>
                        <input type="text" id="cwdInput" value="/home/user/projects">
                    </div>
                    <div class="input-group">
                        <label>Relative path to resolve:</label>
                        <input type="text" id="resolveInput" value="../documents/file.txt">
                    </div>
                    <button class="btn" onclick="demonstrateResolve()">üìç Resolve Path</button>
                    <div id="resolveResult"></div>
                </div>
                
                <pre>// path.resolve() creates absolute paths
const path = require('path');

// If current directory is: /home/user/projects
// And you resolve: ../documents/file.txt
const absolutePath = path.resolve('../documents/file.txt');
// Result: /home/user/documents/file.txt

// It's like asking: "What's the full address if I go up one folder, 
// then into documents, then to file.txt?"</pre>
            </div>

            <!-- Interactive Demo: Path Parsing -->
            <div class="concept-section">
                <h2 class="concept-title">3. Path Parsing - Dissecting File Paths</h2>
                
                <div class="analogy">
                    <h4>üìÆ Address Analysis Analogy</h4>
                    <p>Just like parsing a mailing address into house number, street, city, and zip code, path parsing methods extract different components from a file path - the directory, filename, extension, etc.</p>
                </div>
                
                <div class="demo-area">
                    <div class="input-group">
                        <label>Enter a file path to parse:</label>
                        <input type="text" id="parseInput" value="/home/user/documents/photos/summer-vacation-2024.jpg">
                    </div>
                    <button class="btn" onclick="demonstrateParsing()">üîç Parse Path</button>
                    <div id="parseResult"></div>
                </div>
                
                <pre>// Path parsing methods extract components
const path = require('path');

const filePath = '/home/user/documents/photos/summer-vacation-2024.jpg';

// Extract different parts:
console.log('Directory:', path.dirname(filePath));
// ‚Üí '/home/user/documents/photos'

console.log('Filename:', path.basename(filePath));
// ‚Üí 'summer-vacation-2024.jpg'

console.log('Extension:', path.extname(filePath));
// ‚Üí '.jpg'

console.log('Name without extension:', path.basename(filePath, path.extname(filePath)));
// ‚Üí 'summer-vacation-2024'

// Parse all at once:
console.log('Parsed:', path.parse(filePath));
// ‚Üí { root: '/', dir: '/home/user/documents/photos', 
//     base: 'summer-vacation-2024.jpg', ext: '.jpg', 
//     name: 'summer-vacation-2024' }</pre>
            </div>

            <!-- Interactive Demo: Path Utilities -->
            <div class="concept-section">
                <h2 class="concept-title">4. Path Utilities - Helpful Tools</h2>
                
                <div class="demo-area">
                    <div class="input-group">
                        <label>Path 1:</label>
                        <input type="text" id="path1" value="/home/user/documents">
                    </div>
                    <div class="input-group">
                        <label>Path 2:</label>
                        <input type="text" id="path2" value="/home/user/documents/photos/vacation.jpg">
                    </div>
                    <button class="btn" onclick="demonstrateRelative()">üìè Get Relative Path</button>
                    <button class="btn" onclick="demonstrateNormalize()">üîß Normalize Paths</button>
                    <div id="utilityResult"></div>
                </div>
                
                <pre>// Path utilities for common tasks
const path = require('path');

// Get relative path between two locations
const from = '/home/user/documents';
const to = '/home/user/documents/photos/vacation.jpg';
console.log('Relative path:', path.relative(from, to));
// ‚Üí 'photos/vacation.jpg'

// Normalize messy paths
const messyPath = '/home/user/../user/documents/./photos//vacation.jpg';
console.log('Normalized:', path.normalize(messyPath));
// ‚Üí '/home/user/documents/photos/vacation.jpg'

// Check if path is absolute
console.log('Is absolute:', path.isAbsolute('/home/user'));  // ‚Üí true
console.log('Is absolute:', path.isAbsolute('documents'));   // ‚Üí false</pre>
            </div>

            <!-- Cross-Platform Considerations -->
            <div class="concept-section">
                <h2 class="concept-title">5. Cross-Platform Magic ü™Ñ</h2>
                
                <div class="analogy">
                    <h4>üåç Universal Translator Analogy</h4>
                    <p>The Path module is like a universal translator for file systems. It speaks Windows (backslashes), Unix/Linux/Mac (forward slashes), and automatically converts between them so your code works everywhere!</p>
                </div>
                
                <div class="highlight">
                    <strong>Platform Differences:</strong>
                    <ul style="margin-top: 10px;">
                        <li><strong>Windows:</strong> C:\Users\John\Documents\file.txt</li>
                        <li><strong>Unix/Linux/Mac:</strong> /Users/John/Documents/file.txt</li>
                        <li><strong>Path module:</strong> Handles both automatically! üéâ</li>
                    </ul>
                </div>
                
                <pre>// Cross-platform constants
console.log('Path separator:', path.sep);
// Windows: '\\'  |  Unix/Mac: '/'

console.log('Path delimiter:', path.delimiter);
// Windows: ';'   |  Unix/Mac: ':'

// Platform-specific examples
console.log('POSIX join:', path.posix.join('/users', 'john', 'docs'));
// ‚Üí '/users/john/docs'

console.log('Windows join:', path.win32.join('C:\\Users', 'john', 'docs'));
// ‚Üí 'C:\\Users\\john\\docs'</pre>
            </div>

            <!-- Best Practices -->
            <div class="concept-section">
                <h2 class="concept-title">üí° Best Practices & Tips</h2>
                
                <div class="method-grid">
                    <div class="method-card">
                        <div class="method-name">‚úÖ Always Use Path Methods</div>
                        <div class="description">Never manually concatenate paths with '/' or '\'. Let the Path module handle it!</div>
                    </div>
                    <div class="method-card">
                        <div class="method-name">üîí Validate User Input</div>
                        <div class="description">When accepting file paths from users, always validate and sanitize them to prevent directory traversal attacks.</div>
                    </div>
                    <div class="method-card">
                        <div class="method-name">üìÅ Use __dirname & __filename</div>
                        <div class="description">Combine path methods with __dirname to create paths relative to your script's location.</div>
                    </div>
                    <div class="method-card">
                        <div class="method-name">üß™ Test Across Platforms</div>
                        <div class="description">If possible, test your path logic on different operating systems to ensure compatibility.</div>
                    </div>
                </div>
                
                <pre>// Best practice examples
const path = require('path');

// ‚úÖ Good: Using path methods
const configPath = path.join(__dirname, 'config', 'settings.json');

// ‚ùå Bad: Manual concatenation
const badPath = __dirname + '/config/settings.json';  // Breaks on Windows!

// ‚úÖ Good: Safe path creation for user uploads
const safeFilename = path.basename(userInput);  // Prevents '../../../etc/passwd'
const uploadPath = path.join(__dirname, 'uploads', safeFilename);

// ‚úÖ Good: Cross-platform environment variable handling
const paths = process.env.PATH.split(path.delimiter);</pre>
            </div>
        </div>
    </div>

    <script>
        // Simulate path module functionality for browser demo
        const pathModule = {
            sep: navigator.platform.includes('Win') ? '\\' : '/',
            delimiter: navigator.platform.includes('Win') ? ';' : ':',
            
            join: function(...segments) {
                const separator = this.sep;
                return segments
                    .filter(segment => segment && segment.length > 0)
                    .join(separator)
                    .replace(/[\/\\]+/g, separator);
            },
            
            resolve: function(cwd, relativePath) {
                if (relativePath.startsWith('/') || relativePath.match(/^[A-Z]:/)) {
                    return relativePath;
                }
                
                const parts = cwd.split(/[\/\\]/).filter(p => p.length > 0);
                const relativeParts = relativePath.split(/[\/\\]/).filter(p => p.length > 0);
                
                for (const part of relativeParts) {
                    if (part === '..') {
                        parts.pop();
                    } else if (part !== '.') {
                        parts.push(part);
                    }
                }
                
                return (cwd.startsWith('/') ? '/' : '') + parts.join(this.sep);
            },
            
            dirname: function(path) {
                const lastSep = Math.max(path.lastIndexOf('/'), path.lastIndexOf('\\'));
                return lastSep > 0 ? path.substring(0, lastSep) : (lastSep === 0 ? '/' : '.');
            },
            
            basename: function(path, ext) {
                const lastSep = Math.max(path.lastIndexOf('/'), path.lastIndexOf('\\'));
                let name = path.substring(lastSep + 1);
                if (ext && name.endsWith(ext)) {
                    name = name.substring(0, name.length - ext.length);
                }
                return name;
            },
            
            extname: function(path) {
                const lastDot = path.lastIndexOf('.');
                const lastSep = Math.max(path.lastIndexOf('/'), path.lastIndexOf('\\'));
                return (lastDot > lastSep) ? path.substring(lastDot) : '';
            },
            
            parse: function(path) {
                const dir = this.dirname(path);
                const base = this.basename(path);
                const ext = this.extname(path);
                const name = this.basename(path, ext);
                const root = path.startsWith('/') ? '/' : (path.match(/^[A-Z]:/) ? path.substring(0, 2) : '');
                
                return { root, dir, base, ext, name };
            },
            
            relative: function(from, to) {
                const fromParts = from.split(/[\/\\]/).filter(p => p.length > 0);
                const toParts = to.split(/[\/\\]/).filter(p => p.length > 0);
                
                let i = 0;
                while (i < fromParts.length && i < toParts.length && fromParts[i] === toParts[i]) {
                    i++;
                }
                
                const upLevels = fromParts.length - i;
                const downPath = toParts.slice(i);
                
                const result = Array(upLevels).fill('..').concat(downPath);
                return result.length > 0 ? result.join(this.sep) : '.';
            },
            
            normalize: function(path) {
                const parts = path.split(/[\/\\]/).filter(p => p.length > 0);
                const normalized = [];
                
                for (const part of parts) {
                    if (part === '..') {
                        if (normalized.length > 0 && normalized[normalized.length - 1] !== '..') {
                            normalized.pop();
                        } else {
                            normalized.push('..');
                        }
                    } else if (part !== '.') {
                        normalized.push(part);
                    }
                }
                
                const result = normalized.join(this.sep);
                return path.startsWith('/') ? '/' + result : result;
            }
        };

        function demonstrateJoin() {
            const input = document.getElementById('joinInput').value;
            const segments = input.split('\n').map(s => s.trim()).filter(s => s.length > 0);
            
            const result = pathModule.join(...segments);
            
            document.getElementById('joinResult').innerHTML = `
                <div class="result">
                    <div class="result-label">Input segments:</div>
                    ${segments.map(s => `"${s}"`).join(', ')}
                    <div class="result-label" style="margin-top: 10px;">Joined path:</div>
                    <strong>${result}</strong>
                </div>
            `;
        }

        function demonstrateResolve() {
            const cwd = document.getElementById('cwdInput').value;
            const relativePath = document.getElementById('resolveInput').value;
            
            const result = pathModule.resolve(cwd, relativePath);
            
            document.getElementById('resolveResult').innerHTML = `
                <div class="result">
                    <div class="result-label">Current working directory:</div>
                    ${cwd}
                    <div class="result-label" style="margin-top: 10px;">Relative path:</div>
                    ${relativePath}
                    <div class="result-label" style="margin-top: 10px;">Resolved absolute path:</div>
                    <strong>${result}</strong>
                </div>
            `;
        }

        function demonstrateParsing() {
            const input = document.getElementById('parseInput').value;
            
            const parsed = pathModule.parse(input);
            const dirname = pathModule.dirname(input);
            const basename = pathModule.basename(input);
            const extname = pathModule.extname(input);
            const nameOnly = pathModule.basename(input, extname);
            
            document.getElementById('parseResult').innerHTML = `
                <div class="result">
                    <div class="result-label">Original path:</div>
                    ${input}
                    <br><br>
                    <div class="result-label">path.dirname():</div>
                    <strong>${dirname}</strong>
                    <br><br>
                    <div class="result-label">path.basename():</div>
                    <strong>${basename}</strong>
                    <br><br>
                    <div class="result-label">path.extname():</div>
                    <strong>${extname}</strong>
                    <br><br>
                    <div class="result-label">Name without extension:</div>
                    <strong>${nameOnly}</strong>
                    <br><br>
                    <div class="result-label">path.parse() result:</div>
                    <strong>${JSON.stringify(parsed, null, 2)}</strong>
                </div>
            `;
        }

        function demonstrateRelative() {
            const path1 = document.getElementById('path1').value;
            const path2 = document.getElementById('path2').value;
            
            const relative = pathModule.relative(path1, path2);
            
            document.getElementById('utilityResult').innerHTML = `
                <div class="result">
                    <div class="result-label">From:</div>
                    ${path1}
                    <div class="result-label" style="margin-top: 10px;">To:</div>
                    ${path2}
                    <div class="result-label" style="margin-top: 10px;">Relative path:</div>
                    <strong>${relative}</strong>
                </div>
            `;
        }

        function demonstrateNormalize() {
            const path1 = document.getElementById('path1').value;
            const path2 = document.getElementById('path2').value;
            
            const normalized1 = pathModule.normalize(path1);
            const normalized2 = pathModule.normalize(path2);
            
            document.getElementById('utilityResult').innerHTML = `
                <div class="result">
                    <div class="result-label">Path 1 normalized:</div>
                    <strong>${normalized1}</strong>
                    <div class="result-label" style="margin-top: 10px;">Path 2 normalized:</div>
                    <strong>${normalized2}</strong>
                    <div class="result-label" style="margin-top: 10px;">Platform info:</div>
                    Path separator: <strong>${pathModule.sep}</strong><br>
                    Path delimiter: <strong>${pathModule.delimiter}</strong>
                </div>
            `;
        }
    </script>
</body>
</html>