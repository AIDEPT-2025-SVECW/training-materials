<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Generics Interactive Demo</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .section {
            background: white;
            margin-bottom: 30px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
        }
        
        .section-header {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-header h2 {
            font-size: 1.5rem;
        }
        
        .toggle-icon {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }
        
        .section-header.active .toggle-icon {
            transform: rotate(180deg);
        }
        
        .section-content {
            padding: 25px;
            display: none;
        }
        
        .section-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .explanation {
            background: #f8f9fa;
            padding: 20px;
            border-left: 5px solid #007bff;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        
        .code-example {
            background: #2d3748;
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .code-header {
            background: #4a5568;
            color: white;
            padding: 10px 20px;
            font-weight: bold;
        }
        
        pre {
            margin: 0 !important;
            padding: 20px !important;
            background: #2d3748 !important;
        }
        
        .interactive-demo {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid #17a2b8;
        }
        
        .demo-controls {
            margin-bottom: 15px;
        }
        
        .demo-controls label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .demo-controls select, .demo-controls input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        
        .demo-button {
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,123,255,0.3);
        }
        
        .demo-output {
            background: white;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            min-height: 50px;
            border: 1px solid #ddd;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .comparison-table th,
        .comparison-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        .comparison-table th {
            background: #f8f9fa;
            font-weight: bold;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .pros, .cons {
            padding: 15px;
            border-radius: 8px;
        }
        
        .pros {
            background: #d4edda;
            border-left: 5px solid #28a745;
        }
        
        .cons {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
        }
        
        .quiz {
            background: #fff3cd;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid #ffc107;
        }
        
        .quiz-question {
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .quiz-options {
            margin: 10px 0;
        }
        
        .quiz-option {
            margin: 5px 0;
        }
        
        .quiz-option input[type="radio"] {
            margin-right: 8px;
        }
        
        .quiz-result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .correct {
            background: #d4edda;
            color: #155724;
        }
        
        .incorrect {
            background: #f8d7da;
            color: #721c24;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .pros-cons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Java Generics Mastery</h1>
            <p>Interactive guide to understanding Java Generics from basics to advanced concepts</p>
        </div>

        <!-- Section 1: What is Generic -->
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h2>1. What are Generics?</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content">
                <div class="explanation">
                    <strong>Generics</strong> allow you to write classes, interfaces, and methods that work with different types while providing compile-time type safety. They enable you to parameterize types, making your code more flexible and reusable.
                </div>
                
                <div class="code-example">
                    <div class="code-header">Without Generics (Old Way)</div>
                    <pre><code class="language-java">// Before Java 5 - Type unsafe
ArrayList list = new ArrayList();
list.add("Hello");
list.add(42);
String str = (String) list.get(0); // Manual casting required
Integer num = (Integer) list.get(1); // Risk of ClassCastException</code></pre>
                </div>
                
                <div class="code-example">
                    <div class="code-header">With Generics (Modern Way)</div>
                    <pre><code class="language-java">// With Generics - Type safe
ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();
stringList.add("Hello");
// stringList.add(42); // Compile-time error!
String str = stringList.get(0); // No casting needed</code></pre>
                </div>
                
                <div class="interactive-demo">
                    <h3>Try it yourself:</h3>
                    <div class="demo-controls">
                        <label>Select collection type:</label>
                        <select id="collectionType">
                            <option value="ArrayList">ArrayList</option>
                            <option value="LinkedList">LinkedList</option>
                            <option value="HashSet">HashSet</option>
                        </select>
                        
                        <label>Select generic type:</label>
                        <select id="genericType">
                            <option value="String">String</option>
                            <option value="Integer">Integer</option>
                            <option value="Double">Double</option>
                        </select>
                        
                        <button class="demo-button" onclick="generateGenericCode()">Generate Code</button>
                    </div>
                    <div class="demo-output" id="genericOutput"></div>
                </div>
            </div>
        </div>

        <!-- Section 2: Why we need Generics -->
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h2>2. Why Do We Need Generics?</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content">
                <div class="pros-cons">
                    <div class="pros">
                        <h3>✅ Benefits</h3>
                        <ul>
                            <li><strong>Type Safety:</strong> Compile-time type checking</li>
                            <li><strong>No Casting:</strong> Eliminates explicit type casting</li>
                            <li><strong>Code Reusability:</strong> Write once, use with multiple types</li>
                            <li><strong>Performance:</strong> No boxing/unboxing overhead</li>
                            <li><strong>Readability:</strong> Code intent is clearer</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h3>❌ Without Generics</h3>
                        <ul>
                            <li><strong>Runtime Errors:</strong> ClassCastException at runtime</li>
                            <li><strong>Manual Casting:</strong> Error-prone type casting</li>
                            <li><strong>Code Duplication:</strong> Separate classes for each type</li>
                            <li><strong>Poor Performance:</strong> Object boxing/unboxing</li>
                            <li><strong>Unclear Intent:</strong> What types are expected?</li>
                        </ul>
                    </div>
                </div>
                
                <div class="code-example">
                    <div class="code-header">Example: The Problem Without Generics</div>
                    <pre><code class="language-java">// Without generics - runtime error waiting to happen
List numbers = new ArrayList();
numbers.add(1);
numbers.add(2);
numbers.add("oops"); // No compile error!

for (Object obj : numbers) {
    Integer num = (Integer) obj; // ClassCastException here!
    System.out.println(num * 2);
}</code></pre>
                </div>
                
                <div class="code-example">
                    <div class="code-header">Solution: With Generics</div>
                    <pre><code class="language-java">// With generics - compile-time safety
List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();
numbers.add(1);
numbers.add(2);
// numbers.add("oops"); // Compile error - caught early!

for (Integer num : numbers) {
    System.out.println(num * 2); // Safe and clean
}</code></pre>
                </div>
            </div>
        </div>

        <!-- Section 3: How to Implement Generics -->
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h2>3. How to Implement Generics</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content">
                <div class="code-example">
                    <div class="code-header">Generic Class Example</div>
                    <pre><code class="language-java">public class Box&lt;T&gt; {
    private T content;
    
    public Box(T content) {
        this.content = content;
    }
    
    public T getContent() {
        return content;
    }
    
    public void setContent(T content) {
        this.content = content;
    }
}

// Usage
Box&lt;String&gt; stringBox = new Box&lt;&gt;("Hello");
Box&lt;Integer&gt; intBox = new Box&lt;&gt;(42);</code></pre>
                </div>
                
                <div class="code-example">
                    <div class="code-header">Generic Method Example</div>
                    <pre><code class="language-java">public class Utility {
    // Generic method
    public static &lt;T&gt; void swap(T[] array, int i, int j) {
        T temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
    
    // Multiple type parameters
    public static &lt;T, U&gt; void printPair(T first, U second) {
        System.out.println("First: " + first + ", Second: " + second);
    }
}

// Usage
String[] names = {"Alice", "Bob"};
Utility.swap(names, 0, 1); // No need to specify &lt;String&gt;
Utility.&lt;String, Integer&gt;printPair("Age", 25);</code></pre>
                </div>
                
                <div class="interactive-demo">
                    <h3>Create Your Generic Class:</h3>
                    <div class="demo-controls">
                        <label>Class name:</label>
                        <input type="text" id="className" value="Container" placeholder="Enter class name">
                        
                        <label>Type parameter:</label>
                        <input type="text" id="typeParam" value="T" placeholder="Enter type parameter (e.g., T, E, K)">
                        
                        <label>Field name:</label>
                        <input type="text" id="fieldName" value="data" placeholder="Enter field name">
                        
                        <button class="demo-button" onclick="generateGenericClass()">Generate Generic Class</button>
                    </div>
                    <div class="demo-output" id="classOutput"></div>
                </div>
            </div>
        </div>

        <!-- Section 4: T vs ? -->
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h2>4. Difference Between &lt;T&gt; and &lt;?&gt;</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Aspect</th>
                            <th>&lt;T&gt; (Type Parameter)</th>
                            <th>&lt;?&gt; (Wildcard)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Usage</strong></td>
                            <td>Declares a type parameter</td>
                            <td>Represents an unknown type</td>
                        </tr>
                        <tr>
                            <td><strong>Scope</strong></td>
                            <td>Can be used throughout the method/class</td>
                            <td>Local to where it's declared</td>
                        </tr>
                        <tr>
                            <td><strong>Type Safety</strong></td>
                            <td>Concrete type known at compile time</td>
                            <td>Type is unknown</td>
                        </tr>
                        <tr>
                            <td><strong>Modification</strong></td>
                            <td>Can add elements of type T</td>
                            <td>Cannot add elements (except null)</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="code-example">
                    <div class="code-header">Using &lt;T&gt; - Type Parameter</div>
                    <pre><code class="language-java">// T is a type parameter - concrete type
public &lt;T&gt; void processItems(List&lt;T&gt; items, T newItem) {
    items.add(newItem); // ✅ Can add because T is known
    T first = items.get(0); // ✅ Can retrieve as T
    System.out.println("Processing: " + first);
}

// Usage
List&lt;String&gt; strings = Arrays.asList("a", "b");
processItems(strings, "c"); // T is String here</code></pre>
                </div>
                
                <div class="code-example">
                    <div class="code-header">Using &lt;?&gt; - Wildcard</div>
                    <pre><code class="language-java">// ? represents unknown type - read-only
public void printItems(List&lt;?&gt; items) {
    // items.add("something"); // ❌ Compile error!
    Object item = items.get(0); // ✅ Can read as Object
    System.out.println("Item: " + item);
}

// Usage - accepts any parameterized List
printItems(Arrays.asList("a", "b"));    // List&lt;String&gt;
printItems(Arrays.asList(1, 2, 3));     // List&lt;Integer&gt;
printItems(Arrays.asList(1.0, 2.0));    // List&lt;Double&gt;</code></pre>
                </div>
                
                <div class="quiz">
                    <div class="quiz-question">Quick Quiz: Which one allows adding elements?</div>
                    <div class="quiz-options">
                        <div class="quiz-option">
                            <input type="radio" name="q1" value="T" id="q1a">
                            <label for="q1a">List&lt;T&gt; where T is a type parameter</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q1" value="wildcard" id="q1b">
                            <label for="q1b">List&lt;?&gt; with wildcard</label>
                        </div>
                    </div>
                    <button class="demo-button" onclick="checkQuiz('q1', 'T')">Check Answer</button>
                    <div id="q1Result" class="quiz-result" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Section 5: Advanced Concepts -->
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h2>5. Advanced Concepts: Bounded Wildcards</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content">
                <div class="explanation">
                    <strong>Bounded wildcards</strong> provide more control over the types that can be used with generics. They come in two flavors: upper bounds and lower bounds.
                </div>
                
                <h3>Upper Bounds: &lt;? extends Type&gt; vs &lt;T extends Type&gt;</h3>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Aspect</th>
                            <th>&lt;T extends User&gt;</th>
                            <th>&lt;? extends User&gt;</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>When to use</strong></td>
                            <td>When you need to refer to the type</td>
                            <td>When you only need to read</td>
                        </tr>
                        <tr>
                            <td><strong>Adding elements</strong></td>
                            <td>✅ Can add T instances</td>
                            <td>❌ Cannot add (producer)</td>
                        </tr>
                        <tr>
                            <td><strong>Return type</strong></td>
                            <td>Can return T</td>
                            <td>Returns unknown subtype</td>
                        </tr>
                        <tr>
                            <td><strong>Flexibility</strong></td>
                            <td>Less flexible</td>
                            <td>More flexible</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="code-example">
                    <div class="code-header">&lt;T extends User&gt; - Bounded Type Parameter</div>
                    <pre><code class="language-java">class User {
    protected String name;
    public User(String name) { this.name = name; }
}

class Admin extends User {
    public Admin(String name) { super(name); }
}

class Manager extends User {
    public Manager(String name) { super(name); }
}

// T extends User - can use T as return type and add elements
public &lt;T extends User&gt; T processUser(List&lt;T&gt; users, T newUser) {
    users.add(newUser);           // ✅ Can add T
    return users.get(0);          // ✅ Returns T
}

// Usage
List&lt;Admin&gt; admins = new ArrayList&lt;&gt;();
Admin result = processUser(admins, new Admin("John")); // Returns Admin</code></pre>
                </div>
                
                <div class="code-example">
                    <div class="code-header">&lt;? extends User&gt; - Bounded Wildcard</div>
                    <pre><code class="language-java">// ? extends User - read-only, more flexible
public void displayUsers(List&lt;? extends User&gt; users) {
    // users.add(new User("test")); // ❌ Compile error!
    for (User user : users) {        // ✅ Can read as User
        System.out.println(user.name);
    }
}

// Usage - accepts any List of User subtypes
displayUsers(new ArrayList&lt;User&gt;());    // ✅
displayUsers(new ArrayList&lt;Admin&gt;());   // ✅
displayUsers(new ArrayList&lt;Manager&gt;()); // ✅</code></pre>
                </div>
                
                <h3>Lower Bounds: &lt;? super Type&gt;</h3>
                
                <div class="code-example">
                    <div class="code-header">&lt;? super User&gt; - Lower Bound Wildcard</div>
                    <pre><code class="language-java">// ? super User - can accept User or its supertypes
public void addUsers(List&lt;? super User&gt; users) {
    users.add(new User("John"));     // ✅ Can add User
    users.add(new Admin("Jane"));    // ✅ Can add Admin (subtype of User)
    // Object obj = users.get(0);    // Can only read as Object
}

// Usage
List&lt;Object&gt; objects = new ArrayList&lt;&gt;();
addUsers(objects);                   // ✅ Object is supertype of User

List&lt;User&gt; users = new ArrayList&lt;&gt;();
addUsers(users);                     // ✅ User itself

// List&lt;Admin&gt; admins = new ArrayList&lt;&gt;();
// addUsers(admins);                // ❌ Admin is subtype, not supertype</code></pre>
                </div>
                
                <div class="interactive-demo">
                    <h3>PECS Principle Demonstration:</h3>
                    <p><strong>Producer Extends, Consumer Super</strong> - Choose the scenario:</p>
                    <div class="demo-controls">
                        <label>Select scenario:</label>
                        <select id="pecsScenario">
                            <option value="producer">Producer (Reading from collection)</option>
                            <option value="consumer">Consumer (Adding to collection)</option>
                        </select>
                        
                        <button class="demo-button" onclick="demonstratePECS()">Show PECS Example</button>
                    </div>
                    <div class="demo-output" id="pecsOutput"></div>
                </div>
            </div>
        </div>

        <!-- Section 6: Additional Concepts -->
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h2>6. Additional Important Concepts</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content">
                <h3>Type Erasure</h3>
                <div class="explanation">
                    Java implements generics through <span class="highlight">type erasure</span>. Generic type information is removed at runtime for backward compatibility.
                </div>
                
                <div class="code-example">
                    <div class="code-header">Type Erasure Example</div>
                    <pre><code class="language-java">// At compile time
List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();
List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();

// At runtime (after type erasure)
List stringList = new ArrayList(); // Raw type
List intList = new ArrayList();    // Raw type

// This returns true!
System.out.println(stringList.getClass() == intList.getClass());</code></pre>
                </div>
                
                <h3>Generic Array Creation</h3>
                <div class="code-example">
                    <div class="code-header">Array Creation Limitations</div>
                    <pre><code class="language-java">// ❌ Cannot create arrays of generic types
// List&lt;String&gt;[] stringLists = new List&lt;String&gt;[10]; // Compile error

// ✅ Workarounds
@SuppressWarnings("unchecked")
List&lt;String&gt;[] stringLists = new List[10]; // Raw type array

// Better approach: Use List of Lists
List&lt;List&lt;String&gt;&gt; listOfLists = new ArrayList&lt;&gt;();</code></pre>
                </div>
                
                <h3>Multiple Bounds</h3>
                <div class="code-example">
                    <div class="code-header">Multiple Type Bounds</div>
                    <pre><code class="language-java">interface Drawable {
    void draw();
}

interface Clickable {
    void click();
}

// Multiple bounds: T must extend User AND implement Drawable AND Clickable
public &lt;T extends User & Drawable & Clickable&gt; void handleElement(T element) {
    System.out.println(element.name);  // From User
    element.draw();                    // From Drawable
    element.click();                   // From Clickable
}</code></pre>
                </div>
                
                <div class="quiz">
                    <div class="quiz-question">Final Quiz: What happens to generic type information at runtime?</div>
                    <div class="quiz-options">
                        <div class="quiz-option">
                            <input type="radio" name="q2" value="kept" id="q2a">
                            <label for="q2a">It's kept for runtime type checking</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q2" value="erased" id="q2b">
                            <label for="q2b">It's erased (removed) for backward compatibility</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="q2" value="optional" id="q2c">
                            <label for="q2c">It's optional based on JVM settings</label>
                        </div>
                    </div>
                    <button class="demo-button" onclick="checkQuiz('q2', 'erased')">Check Answer</button>
                    <div id="q2Result" class="quiz-result" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script src="generics-demo.js"></script>
</body>
</html>