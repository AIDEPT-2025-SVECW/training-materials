<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS JSON & APIs - Interactive Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-style: italic;
        }
        
        .section {
            margin: 30px 0;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        h2 {
            color: #764ba2;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .concept {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #2196F3;
        }
        
        .analogy {
            background: #fff3e0;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ff9800;
        }
        
        .analogy::before {
            content: "üí° Analogy: ";
            font-weight: bold;
            color: #f57c00;
        }
        
        .demo-box {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border: 2px solid #ddd;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        input, textarea, select {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        code {
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        
        .output {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            border: 2px solid #4caf50;
            min-height: 50px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .error {
            background: #ffebee;
            color: #c62828;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #c62828;
        }
        
        .success {
            background: #e8f5e9;
            color: #2e7d32;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #4caf50;
        }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }
        
        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .api-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .method-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 12px;
            margin-right: 10px;
        }
        
        .get-badge {
            background: #4caf50;
            color: white;
        }
        
        .post-badge {
            background: #2196F3;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ JavaScript JSON & APIs</h1>
        <p class="subtitle">Interactive Deep Dive into Data Exchange</p>
        
        <!-- JSON.parse Section -->
        <div class="section">
            <h2>üì• JSON.parse() - Converting JSON String to Object</h2>
            
            <div class="concept">
                <strong>Concept:</strong> Converts a JSON-formatted string into a JavaScript object that you can work with.
            </div>
            
            <div class="analogy">
                Think of receiving a locked gift box (JSON string). JSON.parse() is like opening that box to access the actual gifts (objects/arrays) inside that you can use.
            </div>
            
            <div class="demo-box">
                <h3>üéØ Try It: Parse Indian Student Data</h3>
                <textarea id="parseInput" rows="6" placeholder='Enter JSON string...'>{"name":"Rahul Kumar","rollNo":101,"marks":{"maths":95,"science":88,"english":82},"city":"Mumbai"}</textarea>
                <button onclick="demoJSONParse()">Parse JSON</button>
                <button onclick="fillSampleJSON()">Load Sample Data</button>
                <div id="parseOutput" class="output"></div>
            </div>
            
            <pre><code>// JSON.parse() Example
const jsonString = '{"name":"Priya","age":22,"course":"BCA"}';
const student = JSON.parse(jsonString);

console.log(student.name);    // "Priya"
console.log(student.course);  // "BCA"

// Now you can work with it like a normal object
student.age = 23;
student.semester = 6;</code></pre>
        </div>
        
        <!-- JSON.stringify Section -->
        <div class="section">
            <h2>üì§ JSON.stringify() - Converting Object to JSON String</h2>
            
            <div class="concept">
                <strong>Concept:</strong> Converts a JavaScript object/array into a JSON string format, ready to send over the network or store.
            </div>
            
            <div class="analogy">
                Like packing your belongings into a sealed parcel before sending it through courier. You can't send loose items - they need to be packaged (stringified) first!
            </div>
            
            <div class="demo-box">
                <h3>üéØ Try It: Create & Stringify Student Record</h3>
                <input type="text" id="stuName" placeholder="Student Name" value="Amit Sharma">
                <input type="number" id="stuRoll" placeholder="Roll Number" value="205">
                <input type="text" id="stuCity" placeholder="City" value="Delhi">
                <button onclick="demoJSONStringify()">Convert to JSON</button>
                <div id="stringifyOutput" class="output"></div>
            </div>
            
            <pre><code>// JSON.stringify() Example
const examResult = {
    studentId: "BCA2023045",
    subjects: ["JavaScript", "Database", "Networking"],
    totalMarks: 285,
    passed: true
};

const jsonString = JSON.stringify(examResult);
console.log(jsonString);
// {"studentId":"BCA2023045","subjects":["JavaScript","Database","Networking"],"totalMarks":285,"passed":true}

// Pretty print with indentation
const prettyJSON = JSON.stringify(examResult, null, 2);</code></pre>
        </div>
        
        <!-- fetch() GET Section -->
        <div class="section">
            <h2>üåê fetch() - Making GET Requests</h2>
            
            <div class="concept">
                <strong>Concept:</strong> fetch() is used to retrieve data from a server/API. GET requests are for reading/fetching data without modifying anything on the server.
            </div>
            
            <div class="analogy">
                Like checking train status on IRCTC app - you're only viewing/fetching information, not changing anything on the railway server.
            </div>
            
            <div class="demo-box">
                <h3>üéØ Try It: Fetch Random User Data</h3>
                <button onclick="demoGETRequest()">Fetch User Profile</button>
                <button onclick="demoGETJoke()">Fetch Random Joke</button>
                <div id="getOutput" class="output"></div>
            </div>
            
            <pre><code>// fetch() GET Request Example
fetch('https://api.example.com/students')
    .then(response => response.json())  // Parse JSON response
    .then(data => {
        console.log(data);  // Use the data
        // Display in your UI
    })
    .catch(error => {
        console.error('Error:', error);
    });

// Modern async/await approach (cleaner!)
async function getStudentData() {
    try {
        const response = await fetch('https://api.example.com/students/101');
        const student = await response.json();
        console.log(student.name);
    } catch (error) {
        console.error('Failed to fetch:', error);
    }
}</code></pre>
        </div>
        
        <!-- fetch() POST Section -->
        <div class="section">
            <h2>üìÆ fetch() - Making POST Requests</h2>
            
            <div class="concept">
                <strong>Concept:</strong> POST requests send data to the server to create or update resources. You include data in the request body.
            </div>
            
            <div class="analogy">
                Like submitting your college admission form online - you're sending your data to the server to create a new record in their database.
            </div>
            
            <div class="demo-box">
                <h3>üéØ Try It: Submit New Student Registration</h3>
                <input type="text" id="postName" placeholder="Full Name" value="Sneha Patel">
                <input type="email" id="postEmail" placeholder="Email" value="sneha@example.com">
                <input type="text" id="postCourse" placeholder="Course" value="MCA">
                <button onclick="demoPOSTRequest()">Submit Registration</button>
                <div id="postOutput" class="output"></div>
            </div>
            
            <pre><code>// fetch() POST Request Example
const newStudent = {
    name: "Vikram Singh",
    email: "vikram@college.edu",
    course: "BCA",
    semester: 3
};

fetch('https://api.example.com/students', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify(newStudent)  // Convert object to JSON string
})
.then(response => response.json())
.then(data => {
    console.log('Success:', data);
    alert('Registration successful!');
})
.catch(error => {
    console.error('Error:', error);
});

// Using async/await
async function registerStudent(studentData) {
    try {
        const response = await fetch('https://api.example.com/students', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(studentData)
        });
        const result = await response.json();
        return result;
    } catch (error) {
        console.error('Registration failed:', error);
    }
}</code></pre>
        </div>
        
        <!-- GET vs POST Comparison -->
        <div class="section">
            <h2>‚öñÔ∏è GET vs POST - Understanding the Difference</h2>
            
            <div class="grid">
                <div class="api-card">
                    <h3><span class="method-badge get-badge">GET</span>Fetching Data</h3>
                    <ul>
                        <li>‚úÖ Retrieve/read data</li>
                        <li>‚úÖ No request body needed</li>
                        <li>‚úÖ Can be bookmarked</li>
                        <li>‚úÖ Cached by browser</li>
                        <li>‚ùå Length limited (URL length)</li>
                        <li>‚ùå Data visible in URL</li>
                    </ul>
                    <p><strong>Use when:</strong> Searching, filtering, viewing profiles, getting lists</p>
                </div>
                
                <div class="api-card">
                    <h3><span class="method-badge post-badge">POST</span>Sending Data</h3>
                    <ul>
                        <li>‚úÖ Create/update data</li>
                        <li>‚úÖ Data in request body</li>
                        <li>‚úÖ No size limit</li>
                        <li>‚úÖ Data hidden from URL</li>
                        <li>‚ùå Cannot bookmark</li>
                        <li>‚ùå Not cached</li>
                    </ul>
                    <p><strong>Use when:</strong> Submitting forms, creating accounts, uploading files, login</p>
                </div>
            </div>
            
            <div class="analogy">
                <strong>GET:</strong> Like asking the librarian "Do you have this book?" - you're just querying.<br>
                <strong>POST:</strong> Like submitting a new book donation form - you're adding something new to their collection.
            </div>
        </div>
        
        <!-- Practical Real-World Demo -->
        <div class="section">
            <h2>üéì Complete Example: College Notice Board App</h2>
            
            <div class="concept">
                <strong>Real Scenario:</strong> A simple notice board where you can fetch existing notices (GET) and post new ones (POST).
            </div>
            
            <div class="demo-box">
                <h3>üìã Fetch Latest Notices</h3>
                <button onclick="fetchNotices()">Load All Notices</button>
                <div id="noticesList" class="output"></div>
                
                <h3 style="margin-top: 25px;">‚ûï Post New Notice</h3>
                <input type="text" id="noticeTitle" placeholder="Notice Title" value="Exam Schedule Released">
                <textarea id="noticeContent" rows="3" placeholder="Notice Content">Mid-semester exams will be held from 15th Dec to 22nd Dec 2025.</textarea>
                <button onclick="postNotice()">Post Notice</button>
                <div id="postNoticeOutput" class="output"></div>
            </div>
            
            <pre><code>// Complete Notice Board Implementation
const API_URL = 'https://jsonplaceholder.typicode.com/posts';

// GET: Fetch all notices
async function fetchNotices() {
    try {
        const response = await fetch(API_URL + '?_limit=5');
        const notices = await response.json();
        
        notices.forEach(notice => {
            displayNotice(notice);
        });
    } catch (error) {
        console.error('Failed to load notices:', error);
    }
}

// POST: Create new notice
async function postNotice(noticeData) {
    try {
        const response = await fetch(API_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(noticeData)
        });
        
        const newNotice = await response.json();
        console.log('Notice posted:', newNotice);
        return newNotice;
    } catch (error) {
        console.error('Failed to post notice:', error);
    }
}</code></pre>
        </div>
        
        <!-- Common Patterns Section -->
        <div class="section">
            <h2>üîß Common Patterns & Best Practices</h2>
            
            <div class="demo-box">
                <h3>‚úÖ Error Handling Pattern</h3>
                <pre><code>async function fetchWithErrorHandling(url) {
    try {
        const response = await fetch(url);
        
        // Check if response is OK (status 200-299)
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        return data;
    } catch (error) {
        if (error.message === 'Failed to fetch') {
            console.error('Network error - check internet connection');
        } else {
            console.error('Error:', error.message);
        }
        return null;
    }
}</code></pre>
            </div>
            
            <div class="demo-box">
                <h3>‚è≥ Loading State Pattern</h3>
                <pre><code>async function loadDataWithLoading() {
    const button = document.getElementById('loadBtn');
    const output = document.getElementById('output');
    
    // Show loading
    button.disabled = true;
    output.innerHTML = 'Loading...';
    
    try {
        const data = await fetch('https://api.example.com/data');
        const result = await data.json();
        output.innerHTML = JSON.stringify(result, null, 2);
    } catch (error) {
        output.innerHTML = `Error: ${error.message}`;
    } finally {
        button.disabled = false;  // Re-enable button
    }
}</code></pre>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 40px; padding: 20px; background: #f0f0f0; border-radius: 10px;">
            <p style="color: #666;">üí° <strong>Pro Tip:</strong> Always use async/await with try-catch for cleaner, more readable asynchronous code!</p>
            <p style="color: #666; margin-top: 10px;">üîí Remember: Never expose sensitive data in GET URLs. Use POST for sensitive information.</p>
        </div>
    </div>

    <script>
        // JSON.parse Demo
        function demoJSONParse() {
            const input = document.getElementById('parseInput').value;
            const output = document.getElementById('parseOutput');
            
            try {
                const parsed = JSON.parse(input);
                output.innerHTML = `<div class="success">‚úÖ Successfully Parsed!</div>`;
                output.innerHTML += `<strong>JavaScript Object:</strong>\n`;
                output.innerHTML += `Type: ${typeof parsed}\n\n`;
                output.innerHTML += `<strong>Accessing Properties:</strong>\n`;
                output.innerHTML += `Name: ${parsed.name}\n`;
                if (parsed.rollNo) output.innerHTML += `Roll No: ${parsed.rollNo}\n`;
                if (parsed.marks) {
                    output.innerHTML += `\nMarks:\n`;
                    output.innerHTML += `  Maths: ${parsed.marks.maths}\n`;
                    output.innerHTML += `  Science: ${parsed.marks.science}\n`;
                    output.innerHTML += `  English: ${parsed.marks.english}\n`;
                }
                output.innerHTML += `\n<strong>Pretty Printed:</strong>\n${JSON.stringify(parsed, null, 2)}`;
            } catch (error) {
                output.innerHTML = `<div class="error">‚ùå Parse Error: ${error.message}</div>`;
            }
        }
        
        function fillSampleJSON() {
            const samples = [
                '{"name":"Ananya Desai","rollNo":102,"branch":"CSE","cgpa":8.7,"city":"Bangalore"}',
                '{"restaurant":"Saravana Bhavan","location":"Chennai","dishes":["Dosa","Idli","Vada"],"rating":4.5}',
                '{"cricket":{"team":"India","captain":"Rohit Sharma","ranking":1,"format":"ODI"}}'
            ];
            const random = samples[Math.floor(Math.random() * samples.length)];
            document.getElementById('parseInput').value = random;
        }
        
        // JSON.stringify Demo
        function demoJSONStringify() {
            const output = document.getElementById('stringifyOutput');
            const name = document.getElementById('stuName').value;
            const roll = document.getElementById('stuRoll').value;
            const city = document.getElementById('stuCity').value;
            
            const student = {
                name: name,
                rollNo: parseInt(roll),
                city: city,
                course: "BCA",
                semester: 5,
                subjects: ["JavaScript", "DBMS", "Computer Networks"],
                active: true
            };
            
            const jsonString = JSON.stringify(student);
            const prettyJSON = JSON.stringify(student, null, 2);
            
            output.innerHTML = `<div class="success">‚úÖ Object Converted to JSON!</div>`;
            output.innerHTML += `<strong>Original Object Type:</strong> ${typeof student}\n\n`;
            output.innerHTML += `<strong>JSON String (compact):</strong>\n${jsonString}\n\n`;
            output.innerHTML += `<strong>JSON String (pretty):</strong>\n${prettyJSON}\n\n`;
            output.innerHTML += `<strong>String Length:</strong> ${jsonString.length} characters\n`;
            output.innerHTML += `<em>This string is now ready to send via fetch()!</em>`;
        }
        
        // GET Request Demo
        async function demoGETRequest() {
            const output = document.getElementById('getOutput');
            output.innerHTML = '<div class="loading"></div> Fetching data from API...';
            
            try {
                const response = await fetch('https://randomuser.me/api/');
                const data = await response.json();
                const user = data.results[0];
                
                output.innerHTML = `<div class="success">‚úÖ GET Request Successful!</div>`;
                output.innerHTML += `<strong>Response Status:</strong> ${response.status} ${response.statusText}\n\n`;
                output.innerHTML += `<strong>User Data Retrieved:</strong>\n`;
                output.innerHTML += `Name: ${user.name.first} ${user.name.last}\n`;
                output.innerHTML += `Email: ${user.email}\n`;
                output.innerHTML += `Location: ${user.location.city}, ${user.location.country}\n`;
                output.innerHTML += `Phone: ${user.phone}\n\n`;
                output.innerHTML += `<strong>Full Response Object:</strong>\n${JSON.stringify(user, null, 2)}`;
            } catch (error) {
                output.innerHTML = `<div class="error">‚ùå Error: ${error.message}</div>`;
            }
        }
        
        async function demoGETJoke() {
            const output = document.getElementById('getOutput');
            output.innerHTML = '<div class="loading"></div> Fetching joke...';
            
            try {
                const response = await fetch('https://official-joke-api.appspot.com/random_joke');
                const joke = await response.json();
                
                output.innerHTML = `<div class="success">‚úÖ GET Request Successful!</div>`;
                output.innerHTML += `<strong>üòÑ ${joke.setup}</strong>\n\n`;
                output.innerHTML += `<em>${joke.punchline}</em>\n\n`;
                output.innerHTML += `<strong>Raw JSON Response:</strong>\n${JSON.stringify(joke, null, 2)}`;
            } catch (error) {
                output.innerHTML = `<div class="error">‚ùå Error: ${error.message}</div>`;
            }
        }
        
        // POST Request Demo
        async function demoPOSTRequest() {
            const output = document.getElementById('postOutput');
            const name = document.getElementById('postName').value;
            const email = document.getElementById('postEmail').value;
            const course = document.getElementById('postCourse').value;
            
            const studentData = {
                name: name,
                email: email,
                course: course,
                enrollmentDate: new Date().toISOString().split('T')[0]
            };
            
            output.innerHTML = '<div class="loading"></div> Sending POST request...';
            
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(studentData)
                });
                
                const result = await response.json();
                
                output.innerHTML = `<div class="success">‚úÖ POST Request Successful!</div>`;
                output.innerHTML += `<strong>Response Status:</strong> ${response.status} ${response.statusText}\n\n`;
                output.innerHTML += `<strong>Data Sent:</strong>\n${JSON.stringify(studentData, null, 2)}\n\n`;
                output.innerHTML += `<strong>Server Response:</strong>\n${JSON.stringify(result, null, 2)}\n\n`;
                output.innerHTML += `<em>Note: This is a test API. In real apps, this would create a database entry.</em>`;
            } catch (error) {
                output.innerHTML = `<div class="error">‚ùå Error: ${error.message}</div>`;
            }
        }
        
        // Notice Board Demo
        async function fetchNotices() {
            const output = document.getElementById('noticesList');
            output.innerHTML = '<div class="loading"></div> Loading notices...';
            
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/posts?_limit=3');
                const notices = await response.json();
                
                output.innerHTML = `<div class="success">‚úÖ Loaded ${notices.length} notices</div>\n\n`;
                notices.forEach((notice, index) => {
                    output.innerHTML += `<strong>üìå Notice ${index + 1}:</strong> ${notice.title}\n`;
                    output.innerHTML += `${notice.body.substring(0, 80)}...\n\n`;
                });
            } catch (error) {
                output.innerHTML = `<div class="error">‚ùå Error loading notices: ${error.message}</div>`;
            }
        }
        
        async function postNotice() {
            const output = document.getElementById('postNoticeOutput');
            const title = document.getElementById('noticeTitle').value;
            const content = document.getElementById('noticeContent').value;
            
            if (!title || !content) {
                output.innerHTML = '<div class="error">‚ùå Please fill in both fields</div>';
                return;
            }
            
            const noticeData = {
                title: title,
                body: content,
                userId: 1,
                timestamp: new Date().toLocaleString('en-IN')
            };
            
            output.innerHTML = '<div class="loading"></div> Posting notice...';
            
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(noticeData)
                });
                
                const result = await response.json();
                
                output.innerHTML = `<div class="success">‚úÖ Notice Posted Successfully!</div>`;
                output.innerHTML += `<strong>Notice ID:</strong> ${result.id}\n`;
                output.innerHTML += `<strong>Posted At:</strong> ${noticeData.timestamp}\n\n`;
                output.innerHTML += `<strong>Server Response:</strong>\n${JSON.stringify(result, null, 2)}`;
            } catch (error) {
                output.innerHTML = `<div class="error">‚ùå Error posting notice: ${error.message}</div>`;
            }
        }
    </script>
</body>
</html>