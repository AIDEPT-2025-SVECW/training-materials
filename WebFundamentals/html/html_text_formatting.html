<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTML Text Formatting - Interactive Demo (Fixed)</title>
    <style>
      /* Minor in-file style to keep layout similar to your original */
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        margin: 0;
        line-height: 1.6;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }
      header {
        text-align: center;
        margin-bottom: 40px;
        padding-bottom: 20px;
        border-bottom: 3px solid #667eea;
      }
      h1 {
        color: #667eea;
        font-size: 2.5em;
        margin-bottom: 10px;
      }
      .section {
        margin-bottom: 40px;
        padding: 25px;
        background: #f8f9fa;
        border-radius: 10px;
        border-left: 5px solid #667eea;
      }
      .demoBox {
        background: white;
        padding: 20px;
        border-radius: 8px;
        margin: 15px 0;
        border: 2px solid #ddd;
      }
      .codeBox {
        background: #263238;
        padding: 15px;
        border-radius: 8px;
        overflow-x: auto;
        margin-top: 15px;
        color: #aed581;
        font-family: "Courier New", monospace;
      }
      button {
        cursor: pointer;
        border: none;
        border-radius: 5px;
        padding: 12px 24px;
        color: white;
      }
      .btn-primary {
        background: #667eea;
      }
      .btn-accent {
        background: #764ba2;
      }
      input[type="text"],
      textarea,
      select {
        padding: 10px;
        border-radius: 5px;
        border: 2px solid #667eea;
        font-size: 14px;
      }
      textarea {
        min-height: 80px;
        width: 100%;
      }
      #formattedAddress {
        min-height: 50px;
        background: white;
        padding: 15px;
        margin-top: 15px;
        border: 2px solid #ddd;
        border-radius: 5px;
      }
      #boldOutput,
      #italicOutput,
      #formulaOutput {
        min-height: 50px;
        background: white;
        padding: 15px;
        margin-top: 15px;
        border: 2px solid #ddd;
        border-radius: 5px;
        font-size: 18px;
      }
      #underlineMessage {
        margin-top: 15px;
        padding: 15px;
        border-radius: 5px;
        display: none;
      }
      .grid-2 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header>
        <h1>HTML Text Formatting</h1>
        <p style="color: #666; font-size: 1.1em">
          Interactive Deep Dive into HTML Text Elements
        </p>
      </header>

      <!-- Section 1: Headings -->
      <div class="section">
        <h2 style="color: #764ba2; margin-bottom: 15px; font-size: 1.8em">
          üìù Headings (h1 - h6)
        </h2>
        <div
          style="
            background: #e3f2fd;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-style: italic;
            color: #1565c0;
          "
        >
          <strong>Concept:</strong> Headings create semantic hierarchy and
          structure. Search engines and screen readers use them to understand
          page organization.
        </div>
        <div
          style="
            background: #fff3e0;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ff9800;
          "
        >
          <strong style="color: #ff9800">üí° Analogy:</strong> Headings are like
          chapter titles in a Bhagavad Gita book. H1 is the main title "Bhagavad
          Gita", H2 are chapter names like "Karma Yoga", H3 are verse sections,
          and so on.
        </div>

        <div class="demoBox">
          <h3 style="color: #333; margin-bottom: 10px">
            üéÆ Interactive Demo: Heading Hierarchy
          </h3>
          <div
            id="headingDemo"
            style="background: #f5f5f5; padding: 20px; border-radius: 5px"
          >
            <h1 style="margin: 10px 0">H1: Mumbai Indians - IPL Champions</h1>
            <h2 style="margin: 10px 0">H2: Team Overview</h2>
            <h3 style="margin: 10px 0">H3: Star Players</h3>
            <h4 style="margin: 10px 0">H4: Rohit Sharma - Captain</h4>
            <h5 style="margin: 10px 0">H5: Career Stats</h5>
            <h6 style="margin: 10px 0">H6: 2024 Season Performance</h6>
          </div>
          <div style="margin-top: 12px">
            <button class="btn-primary" id="toggleBordersBtn">
              Toggle Borders to See Hierarchy
            </button>
            <button class="btn-accent" id="changeHeadingBtn">
              Change Content
            </button>
          </div>
        </div>

        <div class="codeBox">
          <pre>
&lt;h1&gt;Main Title - Use Only Once&lt;/h1&gt;
&lt;h2&gt;Section Title&lt;/h2&gt;
&lt;h3&gt;Subsection Title&lt;/h3&gt;
...
&lt;!-- Best Practice: Don't skip levels! --&gt;</pre
          >
        </div>
      </div>

      <!-- Section 2: Paragraphs -->
      <div class="section">
        <h2 style="color: #764ba2; margin-bottom: 15px; font-size: 1.8em">
          üìÑ Paragraphs (&lt;p&gt;)
        </h2>
        <div
          style="
            background: #e3f2fd;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-style: italic;
            color: #1565c0;
          "
        >
          <strong>Concept:</strong> The &lt;p&gt; tag defines a paragraph.
          Browsers automatically add margin before and after paragraphs,
          creating visual separation.
        </div>
        <div
          style="
            background: #fff3e0;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ff9800;
          "
        >
          <strong style="color: #ff9800">üí° Analogy:</strong> Paragraphs are
          like separate train coaches on the Indian Railways. Each paragraph
          (coach) carries related content.
        </div>

        <div class="demoBox">
          <h3 style="color: #333; margin-bottom: 10px">
            üéÆ Interactive Demo: Paragraph Spacing
          </h3>
          <div id="paragraphDemo">
            <p style="margin-bottom: 1em">
              India is a diverse country with 28 states and 8 union territories.
              Each region has its own culture, language, and traditions.
            </p>
            <p style="margin-bottom: 1em">
              The Indian Constitution is the longest written constitution in the
              world. It came into effect on January 26, 1950, celebrated as
              Republic Day.
            </p>
            <p style="margin-bottom: 1em">
              Hindi and English are the official languages, but there are 22
              scheduled languages recognized by the Constitution.
            </p>
          </div>
          <div style="margin-top: 10px">
            <button class="btn-primary" id="toggleParaSpacingBtn">
              Toggle Paragraph Spacing
            </button>
          </div>
        </div>

        <div class="codeBox">
          <pre>
&lt;p&gt;This is a paragraph. It automatically creates spacing.&lt;/p&gt;
&lt;p&gt;This is another paragraph. Notice the gap between them!&lt;/p&gt;</pre
          >
        </div>
      </div>

      <!-- Section 3: Line Breaks -->
      <div class="section">
        <h2 style="color: #764ba2; margin-bottom: 15px; font-size: 1.8em">
          ‚Ü©Ô∏è Line Breaks (&lt;br&gt;)
        </h2>
        <div
          style="
            background: #e3f2fd;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-style: italic;
            color: #1565c0;
          "
        >
          <strong>Concept:</strong> &lt;br&gt; creates a single line break
          without starting a new paragraph. It's a void element - no closing tag
          needed.
        </div>

        <div class="demoBox">
          <h3 style="color: #333; margin-bottom: 10px">
            üéÆ Interactive Demo: Line Breaks vs Paragraphs
          </h3>
          <div class="grid-2">
            <div style="background: #e8f5e9; padding: 15px; border-radius: 5px">
              <h4 style="color: #2e7d32; margin-bottom: 10px">
                Without &lt;br&gt;
              </h4>
              <div
                style="background: white; padding: 10px; border: 1px solid #ccc"
              >
                Address: 123, MG Road Bangalore, Karnataka India - 560001
              </div>
            </div>
            <div style="background: #e3f2fd; padding: 15px; border-radius: 5px">
              <h4 style="color: #1565c0; margin-bottom: 10px">
                With &lt;br&gt;
              </h4>
              <div
                style="background: white; padding: 10px; border: 1px solid #ccc"
              >
                Address:<br />123, MG Road<br />Bangalore, Karnataka<br />India
                - 560001
              </div>
            </div>
          </div>

          <textarea
            id="addressInput"
            placeholder="Type an address and click to format with line breaks..."
            style="
              width: 100%;
              padding: 10px;
              margin-top: 15px;
              border: 2px solid #667eea;
              border-radius: 5px;
              font-size: 14px;
            "
          ></textarea>
          <div style="margin-top: 10px">
            <button class="btn-primary" id="formatAddressBtn">
              Format with &lt;br&gt;
            </button>
          </div>
          <div id="formattedAddress"></div>
        </div>

        <div class="codeBox">
          <pre>
&lt;p&gt;Recipient Name&lt;br&gt;
Flat No. 201, Building A&lt;br&gt;
Green Park Society&lt;br&gt;
Mumbai - 400001&lt;/p&gt;</pre
          >
        </div>
      </div>

      <!-- Section 4: Bold Text -->
      <div class="section">
        <h2 style="color: #764ba2; margin-bottom: 15px; font-size: 1.8em">
          üí™ Bold Text (&lt;strong&gt; vs &lt;b&gt;)
        </h2>
        <div
          style="
            background: #e3f2fd;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-style: italic;
            color: #1565c0;
          "
        >
          <strong>Concept:</strong> Both make text bold, but &lt;strong&gt; adds
          semantic importance (SEO + accessibility), while &lt;b&gt; is purely
          visual.
        </div>

        <div class="demoBox">
          <h3 style="color: #333; margin-bottom: 10px">
            üéÆ Interactive Demo: Strong vs Bold
          </h3>
          <div
            style="
              background: #f5f5f5;
              padding: 20px;
              border-radius: 5px;
              margin-bottom: 15px;
            "
          >
            <p>
              This is <strong>important information</strong> about your exam
              schedule.
            </p>
            <p>
              This is <b>stylistically bold</b> text for visual emphasis only.
            </p>
            <p>
              <strong>Warning:</strong> Submission deadline is
              <strong>15th December</strong>!
            </p>
          </div>

          <div style="margin-top: 8px">
            <input
              type="text"
              id="boldInput"
              placeholder="Type something to make bold..."
              style="
                width: 70%;
                padding: 10px;
                border: 2px solid #667eea;
                border-radius: 5px;
                font-size: 14px;
              "
            />
            <button
              class="btn-primary"
              id="boldStrongBtn"
              style="margin-left: 10px"
            >
              Use &lt;strong&gt;
            </button>
            <button class="btn-accent" id="boldBBtn" style="margin-left: 5px">
              Use &lt;b&gt;
            </button>
          </div>
          <div id="boldOutput"></div>
        </div>

        <div class="codeBox">
          <pre>
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Exams start from Monday.&lt;/p&gt;
&lt;p&gt;The &lt;b&gt;bold&lt;/b&gt; word stands out visually.&lt;/p></pre
          >
        </div>
      </div>

      <!-- Section 5: Italic Text -->
      <div class="section">
        <h2 style="color: #764ba2; margin-bottom: 15px; font-size: 1.8em">
          üé® Italic Text (&lt;em&gt; vs &lt;i&gt;)
        </h2>
        <div
          style="
            background: #e3f2fd;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-style: italic;
            color: #1565c0;
          "
        >
          <strong>Concept:</strong> &lt;em&gt; provides semantic emphasis
          (stressed reading), while &lt;i&gt; is for technical terms, foreign
          words, or stylistic italics without emphasis.
        </div>

        <div class="demoBox">
          <h3 style="color: #333; margin-bottom: 10px">
            üéÆ Interactive Demo: Emphasis vs Italic
          </h3>
          <div
            style="
              background: #f5f5f5;
              padding: 20px;
              border-radius: 5px;
              margin-bottom: 15px;
            "
          >
            <p>
              I <em>cannot</em> believe you did that! (emphasis with stress)
            </p>
            <p>
              The word <i>dharma</i> means duty in Sanskrit. (technical/foreign)
            </p>
          </div>

          <div style="margin-top: 8px">
            <select
              id="italicType"
              style="
                padding: 10px;
                border: 2px solid #667eea;
                border-radius: 5px;
                font-size: 14px;
                margin-right: 10px;
              "
            >
              <option value="em">Emphasized (em)</option>
              <option value="i">Italic (i)</option>
            </select>
            <input
              type="text"
              id="italicInput"
              placeholder="Type text to italicize..."
              style="
                width: 50%;
                padding: 10px;
                border: 2px solid #667eea;
                border-radius: 5px;
                font-size: 14px;
              "
            />
            <button
              class="btn-primary"
              id="applyItalicBtn"
              style="margin-left: 10px"
            >
              Apply
            </button>
          </div>
          <div id="italicOutput"></div>
        </div>

        <div class="codeBox">
          <pre>
&lt;p&gt;You &lt;em&gt;must&lt;/em&gt; submit before deadline!&lt;/p&gt;
&lt;p&gt;We practice &lt;i&gt;yoga&lt;/i&gt; every morning.&lt;/p></pre
          >
        </div>
      </div>

      <!-- Section 6: Underline -->
      <div class="section">
        <h2 style="color: #764ba2; margin-bottom: 15px; font-size: 1.8em">
          _ Underline (&lt;u&gt;)
        </h2>
        <div
          style="
            background: #e3f2fd;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-style: italic;
            color: #1565c0;
          "
        >
          <strong>Concept:</strong> &lt;u&gt; adds underline styling. ‚ö†Ô∏è Avoid
          it for clickable text ‚Äî users confuse underlined text with links.
        </div>

        <div class="demoBox">
          <h3 style="color: #333; margin-bottom: 10px">
            üéÆ Interactive Demo: Underline Confusion
          </h3>
          <div
            style="
              background: #f5f5f5;
              padding: 20px;
              border-radius: 5px;
              margin-bottom: 15px;
            "
          >
            <p>
              This is a
              <a href="#" style="color: blue; text-decoration: underline"
                >real link</a
              >
              that you can click.
            </p>
            <p>
              This is <u>underlined text</u> that looks like a link but isn't!
            </p>
            <p
              style="
                background: #fff3e0;
                padding: 10px;
                border-radius: 5px;
                margin-top: 10px;
              "
            >
              <strong>‚ö†Ô∏è Problem:</strong> Users will try to click the
              underlined text expecting it to be a link!
            </p>
          </div>
          <button class="btn-primary" id="tryUnderlineBtn">
            Try Clicking Underlined Text Above
          </button>
          <div id="underlineMessage"></div>
        </div>

        <div class="codeBox">
          <pre>
&lt;p&gt;This is &lt;u&gt;underlined&lt;/u&gt; text.&lt;/p&gt;</pre
          >
        </div>
      </div>

      <!-- Section 7: Superscript and Subscript -->
      <div class="section">
        <h2 style="color: #764ba2; margin-bottom: 15px; font-size: 1.8em">
          ‚¨ÜÔ∏è‚¨áÔ∏è Superscript (&lt;sup&gt;) & Subscript (&lt;sub&gt;)
        </h2>
        <div
          style="
            background: #e3f2fd;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-style: italic;
            color: #1565c0;
          "
        >
          <strong>Concept:</strong> &lt;sup&gt; raises text above baseline
          (exponents, ordinals), &lt;sub&gt; lowers it below (chemical
          formulas).
        </div>

        <div class="demoBox">
          <h3 style="color: #333; margin-bottom: 10px">
            üéÆ Interactive Demo: Superscript & Subscript
          </h3>
          <div class="grid-2" style="margin-bottom: 20px">
            <div style="background: #e8f5e9; padding: 15px; border-radius: 5px">
              <h4 style="color: #2e7d32; margin-bottom: 10px">
                Superscript Examples
              </h4>
              <p style="font-size: 18px">
                E = mc<sup>2</sup> (Einstein's equation)
              </p>
              <p style="font-size: 18px">2<sup>8</sup> = 256</p>
              <p style="font-size: 18px">Area = œÄr<sup>2</sup></p>
            </div>
            <div style="background: #e3f2fd; padding: 15px; border-radius: 5px">
              <h4 style="color: #1565c0; margin-bottom: 10px">
                Subscript Examples
              </h4>
              <p style="font-size: 18px">H<sub>2</sub>O (Water)</p>
              <p style="font-size: 18px">CO<sub>2</sub> (Carbon Dioxide)</p>
              <p style="font-size: 18px">
                C<sub>6</sub>H<sub>12</sub>O<sub>6</sub> (Glucose)
              </p>
            </div>
          </div>

          <div
            style="
              background: #f5f5f5;
              padding: 20px;
              border-radius: 5px;
              margin-top: 20px;
            "
          >
            <h4 style="margin-bottom: 15px">Build Your Own Formula:</h4>
            <div style="margin-bottom: 15px">
              <label style="display: inline-block; width: 120px"
                >Base text:</label
              >
              <input
                type="text"
                id="baseText"
                value="E = mc"
                style="
                  padding: 8px;
                  border: 2px solid #667eea;
                  border-radius: 5px;
                  width: 200px;
                "
              />
            </div>
            <div style="margin-bottom: 15px">
              <label style="display: inline-block; width: 120px"
                >Superscript:</label
              >
              <input
                type="text"
                id="supText"
                value="2"
                style="
                  padding: 8px;
                  border: 2px solid #667eea;
                  border-radius: 5px;
                  width: 200px;
                "
              />
            </div>
            <div style="margin-bottom: 15px">
              <label style="display: inline-block; width: 120px"
                >Add subscript:</label
              >
              <input
                type="text"
                id="subText"
                placeholder="e.g., H O"
                style="
                  padding: 8px;
                  border: 2px solid #667eea;
                  border-radius: 5px;
                  width: 200px;
                "
              />
              <input
                type="text"
                id="subValue"
                placeholder="e.g., 2"
                style="
                  padding: 8px;
                  border: 2px solid #667eea;
                  border-radius: 5px;
                  width: 100px;
                  margin-left: 10px;
                "
              />
            </div>
            <div>
              <button class="btn-primary" id="generateFormulaBtn">
                Generate Formula
              </button>
            </div>
            <div
              id="formulaOutput"
              style="
                background: white;
                padding: 20px;
                margin-top: 15px;
                border: 2px solid #ddd;
                border-radius: 5px;
                font-size: 24px;
                min-height: 40px;
              "
            ></div>
          </div>
        </div>
      </div>

      <footer style="color: #666; font-size: 0.95em">
        Demo prepared for engineering students ‚Äî interactive examples with
        inline JS comments. (Fixed JS implementations)
      </footer>
    </div>

    <script>
      /* ----------------------------
       Fixed & completed JavaScript
       All functions implement the interactive controls in the page.
       Inline comments explain each block.
       ---------------------------- */

      // --- Heading controls ---
      (function () {
        const toggleBtn = document.getElementById("toggleBordersBtn");
        const changeBtn = document.getElementById("changeHeadingBtn");
        const headingDemo = document.getElementById("headingDemo");
        let bordersOn = false;

        // Toggle borders around headings to visualize hierarchy
        toggleBtn.addEventListener("click", function () {
          bordersOn = !bordersOn;
          // apply or remove a small border to each heading element
          const heads = headingDemo.querySelectorAll("h1,h2,h3,h4,h5,h6");
          heads.forEach((h) => {
            if (bordersOn) {
              h.style.border = "1px dashed rgba(0,0,0,0.08)";
              h.style.padding = "6px";
              h.style.background =
                "linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02))";
            } else {
              h.style.border = "";
              h.style.padding = "";
              h.style.background = "";
            }
          });
          toggleBtn.textContent = bordersOn
            ? "Hide Borders"
            : "Toggle Borders to See Hierarchy";
        });

        // Replace heading text with other content to demonstrate dynamic HTML changes
        changeBtn.addEventListener("click", function () {
          const newTitles = [
            "H1: Bharat Tech Summit 2025",
            "H2: Keynotes & Panels",
            "H3: ML & Web Standards",
            "H4: Hands-on Workshops",
            "H5: Student Projects",
            "H6: Closing & Networking",
          ];
          const heads = headingDemo.querySelectorAll("h1,h2,h3,h4,h5,h6");
          heads.forEach((h, idx) => {
            h.textContent = newTitles[idx] || h.textContent;
          });
        });
      })();

      // --- Paragraph spacing toggle ---
      (function () {
        const toggleParaSpacingBtn = document.getElementById(
          "toggleParaSpacingBtn"
        );
        const paragraphDemo = document.getElementById("paragraphDemo");
        let compact = false;
        toggleParaSpacingBtn.addEventListener("click", function () {
          compact = !compact;
          const paras = paragraphDemo.querySelectorAll("p");
          paras.forEach((p) => {
            p.style.marginBottom = compact ? "0.25em" : "1em";
          });
          toggleParaSpacingBtn.textContent = compact
            ? "Restore Paragraph Spacing"
            : "Toggle Paragraph Spacing";
        });
      })();

      // --- Format address with <br> ---
      (function () {
        const formatBtn = document.getElementById("formatAddressBtn");
        const addressInput = document.getElementById("addressInput");
        const formattedAddress = document.getElementById("formattedAddress");

        // Convert textarea lines into a single paragraph with <br>
        formatBtn.addEventListener("click", function () {
          const text = addressInput.value.trim();
          if (!text) {
            formattedAddress.innerHTML =
              '<em style="color:#666;">No address entered yet.</em>';
            return;
          }
          // Replace CRLF or LF with <br> and escape HTML to be safe.
          const escaped = escapeHtml(text);
          const html = escaped.replace(/\r?\n/g, "<br>");
          // Wrap in a <p> for semantics
          formattedAddress.innerHTML =
            '<p style="margin:0; padding:8px;">' + html + "</p>";
        });
      })();

      // --- Bold (strong vs b) ---
      (function () {
        const strongBtn = document.getElementById("boldStrongBtn");
        const bBtn = document.getElementById("boldBBtn");
        const input = document.getElementById("boldInput");
        const out = document.getElementById("boldOutput");

        // Use <strong>
        strongBtn.addEventListener("click", function () {
          const v = escapeHtml(input.value || "");
          out.innerHTML = v
            ? "<p><strong>" + v + "</strong></p>"
            : '<em style="color:#666;">Type text first</em>';
        });

        // Use <b>
        bBtn.addEventListener("click", function () {
          const v = escapeHtml(input.value || "");
          out.innerHTML = v
            ? "<p><b>" + v + "</b></p>"
            : '<em style="color:#666;">Type text first</em>';
        });
      })();

      // --- Italic (em vs i) ---
      (function () {
        const applyBtn = document.getElementById("applyItalicBtn");
        const typeSelect = document.getElementById("italicType");
        const input = document.getElementById("italicInput");
        const out = document.getElementById("italicOutput");

        applyBtn.addEventListener("click", function () {
          const v = escapeHtml(input.value || "");
          if (!v) {
            out.innerHTML = '<em style="color:#666;">Type text first</em>';
            return;
          }
          const tag = typeSelect.value === "em" ? "em" : "i";
          out.innerHTML =
            "<p>&lt;" +
            tag +
            "&gt; example: <" +
            tag +
            ">" +
            v +
            "</" +
            tag +
            "></p>";
        });
      })();

      // --- Underline demonstration ---
      (function () {
        const tryBtn = document.getElementById("tryUnderlineBtn");
        const message = document.getElementById("underlineMessage");

        tryBtn.addEventListener("click", function () {
          // Demonstrate why underlined non-links are bad UX
          message.style.display = "block";
          message.style.background = "#fff3e0";
          message.style.border = "1px solid #ff9800";
          message.style.color = "#663c00";
          message.innerHTML =
            "<strong>Result:</strong> Users attempted to click the underlined text above but nothing happened. Underlined non-links cause confusion ‚Äî use CSS instead (e.g., border-bottom or <mark>).";
          // scroll into view so students notice
          message.scrollIntoView({ behavior: "smooth", block: "center" });
        });
      })();

      // --- Generate formula (sup & sub) ---
      (function () {
        const genBtn = document.getElementById("generateFormulaBtn");
        const baseText = document.getElementById("baseText");
        const supText = document.getElementById("supText");
        const subText = document.getElementById("subText");
        const subValue = document.getElementById("subValue");
        const out = document.getElementById("formulaOutput");

        genBtn.addEventListener("click", function () {
          // Build formula while escaping user input (but allow sup/sub tags)
          const base = escapeHtml(baseText.value || "");
          const sup = escapeHtml(supText.value || "");
          const sub = escapeHtml(subText.value || "");
          const subVal = escapeHtml(subValue.value || "");

          let html = base;
          if (sup) {
            html += "<sup>" + sup + "</sup>";
          }
          if (sub) {
            // Example: if user typed "H" and subValue "2" we render H<sub>2</sub>
            // Support simple single-subscript scenario: use first sub field and subValue
            html +=
              "<br>" +
              escapeHtml(sub) +
              (subVal ? "<sub>" + subVal + "</sub>" : "");
          }
          out.innerHTML =
            html ||
            '<em style="color:#666;">Enter base and superscript/subscript to generate formula.</em>';
        });
      })();

      // --- Utility: escape HTML for safe insertion of user input into page ---
      function escapeHtml(unsafe) {
        return (unsafe + "")
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#039;");
      }

      // End of script
    </script>
  </body>
</html>
